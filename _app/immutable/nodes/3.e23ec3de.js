import{S as Et,i as mt,s as pt,k as i,q as M,a as V,l as r,m as u,r as q,h as o,c as A,n as h,p as Be,b as Re,D as e,u as me,v as bt,M as Tt,f as Dt,g as be,d as Te,N as kt,e as Oe,y as Se,z as we,A as Pe,B as Le,O as It,P as fe,E as Ae,K as Vt,L as lt,Q as At,w as St}from"../chunks/index.5a21e692.js";import{A as wt,e as Pt,T as Lt,a as Rt,b as jt,C as Nt,h as yt}from"../chunks/CardTemplateSelector.e809f6f6.js";import{f as st}from"../chunks/index.bdac4a1c.js";function nt(a,l,t){const s=a.slice();return s[11]=l[t],s}function it(a,l,t){const s=a.slice();return s[14]=l[t],s}function rt(a){let l,t,s=a[4].join(", ")+"",d;return{c(){l=i("p"),t=M("Range: "),d=M(s)},l(n){l=r(n,"P",{});var v=u(l);t=q(v,"Range: "),d=q(v,s),v.forEach(o)},m(n,v){Re(n,l,v),e(l,t),e(l,d)},p(n,v){v&16&&s!==(s=n[4].join(", ")+"")&&me(d,s)},d(n){n&&o(l)}}}function ot(a,l){let t,s,d;return s=new wt({props:{action:l[14],stacked:!0}}),{key:a,first:null,c(){t=Oe(),Se(s.$$.fragment),this.h()},l(n){t=Oe(),we(s.$$.fragment,n),this.h()},h(){this.first=t},m(n,v){Re(n,t,v),Pe(s,n,v),d=!0},p(n,v){l=n;const E={};v&128&&(E.action=l[14]),s.$set(E)},i(n){d||(be(s.$$.fragment,n),d=!0)},o(n){Te(s.$$.fragment,n),d=!1},d(n){n&&o(t),Le(s,n)}}}function ct(a){let l,t,s=a[11]+"",d,n,v=a[9][a[11]]+"",E;return{c(){l=i("p"),t=i("em"),d=M(s),n=M(": "),E=M(v)},l(T){l=r(T,"P",{});var k=u(l);t=r(k,"EM",{});var w=u(t);d=q(w,s),w.forEach(o),n=q(k,": "),E=q(k,v),k.forEach(o)},m(T,k){Re(T,l,k),e(l,t),e(t,d),e(l,n),e(l,E)},p(T,k){k&256&&s!==(s=T[11]+"")&&me(d,s),k&256&&v!==(v=T[9][T[11]]+"")&&me(E,v)},d(T){T&&o(l)}}}function ft(a){let l,t=a[9][a[11]]&&ct(a);return{c(){t&&t.c(),l=Oe()},l(s){t&&t.l(s),l=Oe()},m(s,d){t&&t.m(s,d),Re(s,l,d)},p(s,d){s[9][s[11]]?t?t.p(s,d):(t=ct(s),t.c(),t.m(l.parentNode,l)):t&&(t.d(1),t=null)},d(s){t&&t.d(s),s&&o(l)}}}function Bt(a){let l,t,s,d,n,v,E,T,k=ut(a[1],a[2])+"",w,R,H,S=a[3].join(", ")+"",p,te,ae,Y,x,z,y,D=[],ve=new Map,ue,B,O,he,j,Z,G,c,P,_e,pe,de,F,le,X,N=a[4].length>0&&rt(a),C=a[7];const $=f=>f[14];for(let f=0;f<C.length;f+=1){let m=it(a,C,f),g=$(m);ve.set(g,D[f]=ot(g,m))}let ne=a[8],I=[];for(let f=0;f<ne.length;f+=1)I[f]=ft(nt(a,ne,f));return{c(){l=i("div"),t=i("div"),s=i("div"),d=i("p"),n=M(a[0]),v=V(),E=i("div"),T=i("p"),w=M(k),R=V(),H=i("p"),p=M(S),te=V(),N&&N.c(),ae=V(),Y=i("hr"),x=V(),z=i("div"),y=i("div");for(let f=0;f<D.length;f+=1)D[f].c();ue=V(),B=i("div"),O=i("hr"),he=V(),j=i("div"),Z=i("div");for(let f=0;f<I.length;f+=1)I[f].c();G=V(),c=i("div"),P=i("p"),_e=M(a[6]),pe=V(),de=i("div"),F=i("p"),le=M(a[5]),this.h()},l(f){l=r(f,"DIV",{class:!0});var m=u(l);t=r(m,"DIV",{class:!0,style:!0});var g=u(t);s=r(g,"DIV",{class:!0});var K=u(s);d=r(K,"P",{class:!0});var ee=u(d);n=q(ee,a[0]),ee.forEach(o),v=A(K),E=r(K,"DIV",{class:!0});var ie=u(E);T=r(ie,"P",{});var Q=u(T);w=q(Q,k),Q.forEach(o),R=A(ie),H=r(ie,"P",{});var W=u(H);p=q(W,S),W.forEach(o),te=A(ie),N&&N.l(ie),ie.forEach(o),K.forEach(o),ae=A(g),Y=r(g,"HR",{}),x=A(g),z=r(g,"DIV",{class:!0});var J=u(z);y=r(J,"DIV",{class:!0});var De=u(y);for(let U=0;U<D.length;U+=1)D[U].l(De);De.forEach(o),ue=A(J),B=r(J,"DIV",{class:!0,style:!0});var ge=u(B);O=r(ge,"HR",{}),he=A(ge),j=r(ge,"DIV",{class:!0});var re=u(j);Z=r(re,"DIV",{});var se=u(Z);for(let U=0;U<I.length;U+=1)I[U].l(se);se.forEach(o),G=A(re),c=r(re,"DIV",{});var oe=u(c);P=r(oe,"P",{class:!0});var ke=u(P);_e=q(ke,a[6]),ke.forEach(o),oe.forEach(o),pe=A(re),de=r(re,"DIV",{});var ce=u(de);F=r(ce,"P",{class:!0});var Ie=u(F);le=q(Ie,a[5]),Ie.forEach(o),ce.forEach(o),re.forEach(o),ge.forEach(o),J.forEach(o),g.forEach(o),m.forEach(o),this.h()},h(){h(d,"class","title"),h(E,"class","is-size-6 has-text-left"),h(s,"class","is-flex is-justify-content-space-between"),h(y,"class","is-flex is-justify-content-space-around"),h(P,"class","has-text-centered"),h(F,"class","has-text-grey is-italic has-text-centered"),h(j,"class","is-flex is-justify-content-space-around"),h(B,"class","bottom-content svelte-1d4zbmt"),Be(B,"background-color","white"),h(z,"class","content"),h(t,"class","card-content pb-0"),Be(t,"background-color","white"),h(l,"class","card display-card svelte-1d4zbmt")},m(f,m){Re(f,l,m),e(l,t),e(t,s),e(s,d),e(d,n),e(s,v),e(s,E),e(E,T),e(T,w),e(E,R),e(E,H),e(H,p),e(E,te),N&&N.m(E,null),e(t,ae),e(t,Y),e(t,x),e(t,z),e(z,y);for(let g=0;g<D.length;g+=1)D[g]&&D[g].m(y,null);e(z,ue),e(z,B),e(B,O),e(B,he),e(B,j),e(j,Z);for(let g=0;g<I.length;g+=1)I[g]&&I[g].m(Z,null);e(j,G),e(j,c),e(c,P),e(P,_e),e(j,pe),e(j,de),e(de,F),e(F,le),X=!0},p(f,[m]){if((!X||m&1)&&me(n,f[0]),(!X||m&6)&&k!==(k=ut(f[1],f[2])+"")&&me(w,k),(!X||m&8)&&S!==(S=f[3].join(", ")+"")&&me(p,S),f[4].length>0?N?N.p(f,m):(N=rt(f),N.c(),N.m(E,null)):N&&(N.d(1),N=null),m&128&&(C=f[7],bt(),D=Tt(D,m,$,1,f,C,ve,y,It,ot,null,it),Dt()),m&768){ne=f[8];let g;for(g=0;g<ne.length;g+=1){const K=nt(f,ne,g);I[g]?I[g].p(K,m):(I[g]=ft(K),I[g].c(),I[g].m(Z,null))}for(;g<I.length;g+=1)I[g].d(1);I.length=ne.length}(!X||m&64)&&me(_e,f[6]),(!X||m&32)&&me(le,f[5])},i(f){if(!X){for(let m=0;m<C.length;m+=1)be(D[m]);X=!0}},o(f){for(let m=0;m<D.length;m+=1)Te(D[m]);X=!1},d(f){f&&o(l),N&&N.d();for(let m=0;m<D.length;m+=1)D[m].d();kt(I,f)}}}function ut(a,l){const t=[];return a.length>0&&t.push(`Health: ${a}`),l.length>0&&t.push(`Stamina: ${l}`),t.join(", ")}function Ht(a,l,t){let{title:s=""}=l,{health:d=""}=l,{stamina:n=""}=l,{itemTags:v=[]}=l,{range:E=[]}=l,{flavorText:T=""}=l,{extraText:k=""}=l,{actions:w=[]}=l;const R=Pt.getExtraEffects();let H=[];function S(){let p=w.reduce((te,ae)=>[...te,...ae.extraEffects],[]);t(8,H=[...new Set(p)])}return a.$$set=p=>{"title"in p&&t(0,s=p.title),"health"in p&&t(1,d=p.health),"stamina"in p&&t(2,n=p.stamina),"itemTags"in p&&t(3,v=p.itemTags),"range"in p&&t(4,E=p.range),"flavorText"in p&&t(5,T=p.flavorText),"extraText"in p&&t(6,k=p.extraText),"actions"in p&&t(7,w=p.actions)},a.$$.update=()=>{a.$$.dirty&128&&S()},[s,d,n,v,E,T,k,w,H,R]}class Ut extends Et{constructor(l){super(),mt(this,l,Ht,Bt,pt,{title:0,health:1,stamina:2,itemTags:3,range:4,flavorText:5,extraText:6,actions:7})}}const Mt=[{title:"Skelerat",itemTags:["Undead"],range:["Same"],flavorText:"A rat that has been reanimated by a necromancer, perhaps this one can cook?",extraText:"",health:"1",actions:[{id:1,triggers:[1,2,3,4],actionEffect:"Move 1, Harm 1",extraEffects:[]},{id:2,triggers:[5],actionEffect:"Move 1, Harm 2",extraEffects:[]},{id:3,triggers:[6],actionEffect:"Move 2, Harm 2",extraEffects:[]}]},{title:"Rat King",health:"3",range:["Same","Adjacent"],flavorText:"Who needs friends when you have rats that can cook?",extraText:"Special: Deals +1 Harm for every adjacent Skelerat.",actions:[{id:1,triggers:[1,2,3,4],actionEffect:"Move 1, Harm 1",extraEffects:[]},{id:2,triggers:[5,6],actionEffect:"Spawn a new Skelerat on an adjacent tile",extraEffects:[]}]}];function qt(a){let l,t,s,d,n,v,E,T,k,w,R,H,S,p,te,ae,Y,x,z,y,D,ve,ue,B,O,he,j,Z,G,c,P,_e,pe,de,F,le,X,N,C,$,ne,I,f,m,g,K,ee,ie,Q,W,J,De,ge,re,se,oe,ke,ce,Ie,U,je,Fe,Ge;return j=new Lt({props:{placeholder:"Undead",tags:a[4],onTagsChange:a[13]}}),G=new Rt({props:{label:"Range",availableTags:Object.values(a[14]),selectedTags:a[5],onTagsChange:a[19]}}),P=new jt({props:{actions:a[0],onAddAction:a[10],onRemoveAction:a[12],onEditAction:a[11]}}),J=new Ut({props:{title:a[1],itemTags:a[4],range:a[5],flavorText:a[6],extraText:a[7],actions:a[0],health:a[2],stamina:a[3]}}),oe=new Nt({props:{onSelect:a[9],templateCards:Mt}}),{c(){l=i("section"),t=i("div"),s=i("div"),d=i("div"),n=i("div"),v=i("div"),E=i("label"),T=M("Name"),k=V(),w=i("div"),R=i("input"),H=V(),S=i("div"),p=i("label"),te=M("Health"),ae=V(),Y=i("div"),x=i("input"),z=V(),y=i("div"),D=i("label"),ve=M("Stamina"),ue=V(),B=i("div"),O=i("input"),he=V(),Se(j.$$.fragment),Z=V(),Se(G.$$.fragment),c=V(),Se(P.$$.fragment),_e=V(),pe=i("br"),de=V(),F=i("div"),le=i("label"),X=M("Extra Text"),N=V(),C=i("div"),$=i("textarea"),ne=V(),I=i("div"),f=i("label"),m=M("Flavor Text"),g=V(),K=i("div"),ee=i("textarea"),ie=V(),Q=i("div"),W=i("div"),Se(J.$$.fragment),De=V(),ge=i("br"),re=V(),se=i("div"),Se(oe.$$.fragment),ke=V(),ce=i("button"),Ie=M("Export as PNG"),this.h()},l(_){l=r(_,"SECTION",{});var L=u(l);t=r(L,"DIV",{class:!0});var Ne=u(t);s=r(Ne,"DIV",{class:!0});var Ee=u(s);d=r(Ee,"DIV",{class:!0});var ye=u(d);n=r(ye,"DIV",{});var b=u(n);v=r(b,"DIV",{class:!0});var He=u(v);E=r(He,"LABEL",{class:!0});var Ke=u(E);T=q(Ke,"Name"),Ke.forEach(o),k=A(He),w=r(He,"DIV",{class:!0});var Xe=u(w);R=r(Xe,"INPUT",{class:!0,type:!0,placeholder:!0}),Xe.forEach(o),He.forEach(o),H=A(b),S=r(b,"DIV",{class:!0});var Ue=u(S);p=r(Ue,"LABEL",{class:!0});var Qe=u(p);te=q(Qe,"Health"),Qe.forEach(o),ae=A(Ue),Y=r(Ue,"DIV",{class:!0});var We=u(Y);x=r(We,"INPUT",{class:!0,placeholder:!0}),We.forEach(o),Ue.forEach(o),z=A(b),y=r(b,"DIV",{class:!0});var Me=u(y);D=r(Me,"LABEL",{class:!0});var Je=u(D);ve=q(Je,"Stamina"),Je.forEach(o),ue=A(Me),B=r(Me,"DIV",{class:!0});var Ye=u(B);O=r(Ye,"INPUT",{class:!0,placeholder:!0}),Ye.forEach(o),Me.forEach(o),he=A(b),we(j.$$.fragment,b),Z=A(b),we(G.$$.fragment,b),c=A(b),we(P.$$.fragment,b),_e=A(b),pe=r(b,"BR",{}),de=A(b),F=r(b,"DIV",{class:!0});var qe=u(F);le=r(qe,"LABEL",{class:!0});var Ze=u(le);X=q(Ze,"Extra Text"),Ze.forEach(o),N=A(qe),C=r(qe,"DIV",{class:!0});var Ce=u(C);$=r(Ce,"TEXTAREA",{class:!0,placeholder:!0}),u($).forEach(o),Ce.forEach(o),qe.forEach(o),ne=A(b),I=r(b,"DIV",{class:!0});var xe=u(I);f=r(xe,"LABEL",{class:!0});var $e=u(f);m=q($e,"Flavor Text"),$e.forEach(o),g=A(xe),K=r(xe,"DIV",{class:!0});var et=u(K);ee=r(et,"TEXTAREA",{class:!0,placeholder:!0}),u(ee).forEach(o),et.forEach(o),xe.forEach(o),b.forEach(o),ye.forEach(o),ie=A(Ee),Q=r(Ee,"DIV",{class:!0});var Ve=u(Q);W=r(Ve,"DIV",{style:!0,id:!0});var tt=u(W);we(J.$$.fragment,tt),tt.forEach(o),De=A(Ve),ge=r(Ve,"BR",{}),re=A(Ve),se=r(Ve,"DIV",{class:!0});var ze=u(se);we(oe.$$.fragment,ze),ke=A(ze),ce=r(ze,"BUTTON",{class:!0});var at=u(ce);Ie=q(at,"Export as PNG"),at.forEach(o),ze.forEach(o),Ve.forEach(o),Ee.forEach(o),Ne.forEach(o),L.forEach(o),this.h()},h(){h(E,"class","label"),h(R,"class","input"),h(R,"type","text"),h(R,"placeholder","Name"),h(w,"class","control"),h(v,"class","field"),h(p,"class","label"),h(x,"class","input"),h(x,"placeholder","3"),h(Y,"class","control"),h(S,"class","field"),h(D,"class","label"),h(O,"class","input"),h(O,"placeholder","1"),h(B,"class","control"),h(y,"class","field"),h(le,"class","label"),h($,"class","textarea"),h($,"placeholder","Enter any extra text"),h(C,"class","control"),h(F,"class","field"),h(f,"class","label"),h(ee,"class","textarea"),h(ee,"placeholder","Enter flavor text"),h(K,"class","control"),h(I,"class","field"),h(d,"class","column is-half"),Be(W,"width","600px"),Be(W,"height","400px"),Be(W,"max-height","100%"),h(W,"id","export-card"),h(ce,"class","button is-dark ml-2"),h(se,"class","field is-grouped"),h(Q,"class","column"),h(s,"class","columns is-flex-wrap-wrap-reverse"),h(t,"class","container")},m(_,L){Re(_,l,L),e(l,t),e(t,s),e(s,d),e(d,n),e(n,v),e(v,E),e(E,T),e(v,k),e(v,w),e(w,R),fe(R,a[1]),e(n,H),e(n,S),e(S,p),e(p,te),e(S,ae),e(S,Y),e(Y,x),fe(x,a[2]),e(n,z),e(n,y),e(y,D),e(D,ve),e(y,ue),e(y,B),e(B,O),fe(O,a[3]),e(n,he),Pe(j,n,null),e(n,Z),Pe(G,n,null),e(n,c),Pe(P,n,null),e(n,_e),e(n,pe),e(n,de),e(n,F),e(F,le),e(le,X),e(F,N),e(F,C),e(C,$),fe($,a[7]),e(n,ne),e(n,I),e(I,f),e(f,m),e(I,g),e(I,K),e(K,ee),fe(ee,a[6]),e(s,ie),e(s,Q),e(Q,W),Pe(J,W,null),a[22](W),e(Q,De),e(Q,ge),e(Q,re),e(Q,se),Pe(oe,se,null),e(se,ke),e(se,ce),e(ce,Ie),je=!0,Fe||(Ge=[Ae(R,"input",a[16]),Ae(x,"input",a[17]),Ae(O,"input",a[18]),Ae($,"input",a[20]),Ae(ee,"input",a[21]),Ae(ce,"click",a[15])],Fe=!0)},p(_,[L]){L&2&&R.value!==_[1]&&fe(R,_[1]),L&4&&x.value!==_[2]&&fe(x,_[2]),L&8&&O.value!==_[3]&&fe(O,_[3]);const Ne={};L&16&&(Ne.tags=_[4]),j.$set(Ne);const Ee={};L&32&&(Ee.selectedTags=_[5]),L&32&&(Ee.onTagsChange=_[19]),G.$set(Ee);const ye={};L&1&&(ye.actions=_[0]),P.$set(ye),L&128&&fe($,_[7]),L&64&&fe(ee,_[6]);const b={};L&2&&(b.title=_[1]),L&16&&(b.itemTags=_[4]),L&32&&(b.range=_[5]),L&64&&(b.flavorText=_[6]),L&128&&(b.extraText=_[7]),L&1&&(b.actions=_[0]),L&4&&(b.health=_[2]),L&8&&(b.stamina=_[3]),J.$set(b)},i(_){je||(be(j.$$.fragment,_),be(G.$$.fragment,_),be(P.$$.fragment,_),be(J.$$.fragment,_),be(oe.$$.fragment,_),Vt(()=>{je&&(U||(U=lt(l,st,{},!0)),U.run(1))}),je=!0)},o(_){Te(j.$$.fragment,_),Te(G.$$.fragment,_),Te(P.$$.fragment,_),Te(J.$$.fragment,_),Te(oe.$$.fragment,_),U||(U=lt(l,st,{},!1)),U.run(0),je=!1},d(_){_&&o(l),Le(j),Le(G),Le(P),Le(J),a[22](null),Le(oe),_&&U&&U.end(),Fe=!1,At(Ge)}}}const ht="",dt="",vt="",_t="",gt="";function xt(a){const l=document.createElement("a");l.href=a,l.download="rune_card.png",l.click()}function zt(a,l,t){const s=[],d=[],n=[];let v=ht,E=dt,T=vt,k=s,w=d,R=_t,H=gt,S=n;function p(c){t(1,v=(c==null?void 0:c.title)||ht),t(2,E=(c==null?void 0:c.health)||dt),t(3,T=(c==null?void 0:c.stamina)||vt),t(4,k=(c==null?void 0:c.itemTags)||s),t(5,w=(c==null?void 0:c.range)||d),t(6,R=(c==null?void 0:c.flavorText)||_t),t(7,H=(c==null?void 0:c.extraText)||gt),t(0,S=(c==null?void 0:c.actions)||n)}function te(c){t(0,S=[...S,c])}function ae(c){t(0,S=S.map(P=>P.id===c.id?c:P))}function Y(c){t(0,S=S.filter(P=>P.id!==c.id))}function x(c){t(4,k=c)}const z={0:"Same",1:"Adjacent",2:"2",3:"3"};function y(){z[w]}let D;function ve(){yt(D).then(c=>{const P=c.toDataURL("image/png");xt(P)})}function ue(){v=this.value,t(1,v)}function B(){E=this.value,t(2,E)}function O(){T=this.value,t(3,T)}const he=c=>t(5,w=c);function j(){H=this.value,t(7,H)}function Z(){R=this.value,t(6,R)}function G(c){St[c?"unshift":"push"](()=>{D=c,t(8,D)})}return a.$$.update=()=>{a.$$.dirty&1&&y()},[S,v,E,T,k,w,R,H,D,p,te,ae,Y,x,z,ve,ue,B,O,he,j,Z,G]}class Kt extends Et{constructor(l){super(),mt(this,l,zt,qt,pt,{})}}export{Kt as component};
