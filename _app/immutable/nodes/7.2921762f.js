import{S as st,i as nt,s as ot,k as n,a as d,q as ee,y as he,l as o,m as c,h as l,c as h,r as te,z as ve,a5 as rt,n as i,p as ye,b as lt,I as e,a6 as ae,A as ge,J as pe,g as _e,Z as it,d as me,a4 as He,B as Ee,K as ct,L as ut,w as ft}from"../chunks/index.4a9c39e8.js";import{g as dt,h as ht}from"../chunks/html2canvas.esm.f5c9d9eb.js";import{a as Qe}from"../chunks/index.608cba37.js";import{t as vt}from"../chunks/SvelteToast.svelte_svelte_type_style_lang.8c7b9773.js";import{b as at}from"../chunks/paths.4a2efbe8.js";import{T as gt,a as pt,A as _t}from"../chunks/ActionList.eef74cf7.js";import{E as mt,g as We}from"../chunks/gear.fa97e3b2.js";import{C as Et}from"../chunks/CardTemplateSelector.9a37b3d4.js";function Tt(a){let v,u,T,b,m,B,A,P,D,N,w,r,I,O,se,ne,U,p,oe,$,x,V,re,k,le,ie,ce,t,_,De,Ie,Z,R,$e,F,y,Ve,ke,H,q,Se,S,j,G,Le,Be,Ne,Q,L,K,we,Re,X,qe,M,Pe,z,ue,Oe,Ue;return $=new gt({props:{placeholder:"Axe",tags:a[2],onTagsChange:a[12]}}),V=new pt({props:{label:"Range",availableTags:Object.values(a[13]),selectedTags:a[3],onTagsChange:a[17]}}),k=new _t({props:{actions:a[0],onAddAction:a[9],onRemoveAction:a[11],onEditAction:a[10]}}),G=new mt({props:{title:a[1],itemTags:a[2],range:a[3],flavorText:a[4],extraText:a[5],actions:a[0]}}),X=new Et({props:{onSelect:a[8],templateCards:a[7]}}),{c(){v=n("section"),u=n("div"),T=n("div"),b=n("div"),m=n("a"),B=n("span"),A=n("iconify-icon"),P=d(),D=n("span"),N=ee("Back"),w=d(),r=n("div"),I=n("div"),O=n("label"),se=ee("Title"),ne=d(),U=n("div"),p=n("input"),oe=d(),he($.$$.fragment),x=d(),he(V.$$.fragment),re=d(),he(k.$$.fragment),le=d(),ie=n("br"),ce=d(),t=n("div"),_=n("label"),De=ee("Extra Text"),Ie=d(),Z=n("div"),R=n("textarea"),$e=d(),F=n("div"),y=n("label"),Ve=ee("Flavor Text"),ke=d(),H=n("div"),q=n("textarea"),Se=d(),S=n("div"),j=n("div"),he(G.$$.fragment),Le=d(),Be=n("br"),Ne=d(),Q=n("div"),L=n("div"),K=n("button"),we=ee("Save Card"),Re=d(),he(X.$$.fragment),qe=d(),M=n("button"),Pe=ee("Export as PNG"),this.h()},l(s){v=o(s,"SECTION",{});var f=c(v);u=o(f,"DIV",{class:!0});var fe=c(u);T=o(fe,"DIV",{class:!0});var J=c(T);b=o(J,"DIV",{class:!0});var Y=c(b);m=o(Y,"A",{href:!0,class:!0});var E=c(m);B=o(E,"SPAN",{class:!0});var de=c(B);A=o(de,"ICONIFY-ICON",{icon:!0}),c(A).forEach(l),de.forEach(l),P=h(E),D=o(E,"SPAN",{});var xe=c(D);N=te(xe,"Back"),xe.forEach(l),E.forEach(l),w=h(Y),r=o(Y,"DIV",{});var g=c(r);I=o(g,"DIV",{class:!0});var Te=c(I);O=o(Te,"LABEL",{class:!0});var Fe=c(O);se=te(Fe,"Title"),Fe.forEach(l),ne=h(Te),U=o(Te,"DIV",{class:!0});var je=c(U);p=o(je,"INPUT",{class:!0,type:!0,placeholder:!0}),je.forEach(l),Te.forEach(l),oe=h(g),ve($.$$.fragment,g),x=h(g),ve(V.$$.fragment,g),re=h(g),ve(k.$$.fragment,g),le=h(g),ie=o(g,"BR",{}),ce=h(g),t=o(g,"DIV",{class:!0});var be=c(t);_=o(be,"LABEL",{class:!0});var Ge=c(_);De=te(Ge,"Extra Text"),Ge.forEach(l),Ie=h(be),Z=o(be,"DIV",{class:!0});var Xe=c(Z);R=o(Xe,"TEXTAREA",{class:!0,placeholder:!0}),c(R).forEach(l),Xe.forEach(l),be.forEach(l),$e=h(g),F=o(g,"DIV",{class:!0});var Ae=c(F);y=o(Ae,"LABEL",{class:!0});var ze=c(y);Ve=te(ze,"Flavor Text"),ze.forEach(l),ke=h(Ae),H=o(Ae,"DIV",{class:!0});var Je=c(H);q=o(Je,"TEXTAREA",{class:!0,placeholder:!0}),c(q).forEach(l),Je.forEach(l),Ae.forEach(l),g.forEach(l),Y.forEach(l),Se=h(J),S=o(J,"DIV",{class:!0});var W=c(S);j=o(W,"DIV",{style:!0});var Ke=c(j);ve(G.$$.fragment,Ke),Ke.forEach(l),Le=h(W),Be=o(W,"BR",{}),Ne=h(W),Q=o(W,"DIV",{class:!0});var Me=c(Q);L=o(Me,"DIV",{class:!0});var C=c(L);K=o(C,"BUTTON",{class:!0});var Ye=c(K);we=te(Ye,"Save Card"),Ye.forEach(l),Re=h(C),ve(X.$$.fragment,C),qe=h(C),M=o(C,"BUTTON",{class:!0});var Ze=c(M);Pe=te(Ze,"Export as PNG"),Ze.forEach(l),C.forEach(l),Me.forEach(l),W.forEach(l),J.forEach(l),fe.forEach(l),f.forEach(l),this.h()},h(){rt(A,"icon","mi:arrow-left"),i(B,"class","icon"),i(m,"href",at+"/equipment"),i(m,"class","button is-outlined mb-4"),i(O,"class","label"),i(p,"class","input"),i(p,"type","text"),i(p,"placeholder","Card Title"),i(U,"class","control"),i(I,"class","field"),i(_,"class","label"),i(R,"class","textarea"),i(R,"placeholder","Enter any extra text"),i(Z,"class","control"),i(t,"class","field"),i(y,"class","label"),i(q,"class","textarea"),i(q,"placeholder","Enter flavor text"),i(H,"class","control"),i(F,"class","field"),i(b,"class","column is-half"),ye(j,"width","320px"),ye(j,"height","480px"),i(K,"class","button is-primary"),i(M,"class","button is-dark"),i(L,"class","control"),i(Q,"class","field"),i(S,"class","column is-half"),i(T,"class","columns"),i(u,"class","container")},m(s,f){lt(s,v,f),e(v,u),e(u,T),e(T,b),e(b,m),e(m,B),e(B,A),e(m,P),e(m,D),e(D,N),e(b,w),e(b,r),e(r,I),e(I,O),e(O,se),e(I,ne),e(I,U),e(U,p),ae(p,a[1]),e(r,oe),ge($,r,null),e(r,x),ge(V,r,null),e(r,re),ge(k,r,null),e(r,le),e(r,ie),e(r,ce),e(r,t),e(t,_),e(_,De),e(t,Ie),e(t,Z),e(Z,R),ae(R,a[5]),e(r,$e),e(r,F),e(F,y),e(y,Ve),e(F,ke),e(F,H),e(H,q),ae(q,a[4]),e(T,Se),e(T,S),e(S,j),ge(G,j,null),a[20](j),e(S,Le),e(S,Be),e(S,Ne),e(S,Q),e(Q,L),e(L,K),e(K,we),e(L,Re),ge(X,L,null),e(L,qe),e(L,M),e(M,Pe),ue=!0,Oe||(Ue=[pe(p,"input",a[16]),pe(R,"input",a[18]),pe(q,"input",a[19]),pe(K,"click",a[14]),pe(M,"click",a[15])],Oe=!0)},p(s,[f]){f&2&&p.value!==s[1]&&ae(p,s[1]);const fe={};f&4&&(fe.tags=s[2]),$.$set(fe);const J={};f&8&&(J.selectedTags=s[3]),f&8&&(J.onTagsChange=s[17]),V.$set(J);const Y={};f&1&&(Y.actions=s[0]),k.$set(Y),f&32&&ae(R,s[5]),f&16&&ae(q,s[4]);const E={};f&2&&(E.title=s[1]),f&4&&(E.itemTags=s[2]),f&8&&(E.range=s[3]),f&16&&(E.flavorText=s[4]),f&32&&(E.extraText=s[5]),f&1&&(E.actions=s[0]),G.$set(E);const de={};f&128&&(de.templateCards=s[7]),X.$set(de)},i(s){ue||(_e($.$$.fragment,s),_e(V.$$.fragment,s),_e(k.$$.fragment,s),_e(G.$$.fragment,s),_e(X.$$.fragment,s),it(()=>{ue&&(z||(z=He(v,Qe,{},!0)),z.run(1))}),ue=!0)},o(s){me($.$$.fragment,s),me(V.$$.fragment,s),me(k.$$.fragment,s),me(G.$$.fragment,s),me(X.$$.fragment,s),z||(z=He(v,Qe,{},!1)),z.run(0),ue=!1},d(s){s&&l(v),Ee($),Ee(V),Ee(k),Ee(G),a[20](null),Ee(X),s&&z&&z.end(),Oe=!1,ct(Ue)}}}const Ce="",et="",tt="";function bt(a){const v=document.createElement("a");v.href=a,v.download="rune_card.png",v.click()}function At(a,v,u){let T;ut(a,We,t=>u(7,T=t));const b=[],m=[],B=[];let A=Ce,P=b,D=m,N=et,w=tt,r=B;function I(t){u(1,A=(t==null?void 0:t.title)||Ce),u(2,P=(t==null?void 0:t.itemTags)||b),u(3,D=(t==null?void 0:t.range)||m),u(4,N=(t==null?void 0:t.flavorText)||et),u(5,w=(t==null?void 0:t.extraText)||tt),u(0,r=(t==null?void 0:t.actions)||B)}function O(t){u(0,r=[...r,t])}function se(t){u(0,r=r.map(_=>_.id===t.id?t:_))}function ne(t){u(0,r=r.filter(_=>_.id!==t.id))}function U(t){u(2,P=t)}const p={0:"Same",1:"Adjacent",2:"2",3:"3"};function oe(){p[D]}function $(){We.add({title:A,itemTags:P,range:D,flavorText:N,extraText:w,actions:r}),vt.push("saved card"),dt(`${at}/equipment`)}let x;function V(){ht(x).then(t=>{const _=t.toDataURL("image/png");bt(_)})}function re(){A=this.value,u(1,A)}const k=t=>u(3,D=t);function le(){w=this.value,u(5,w)}function ie(){N=this.value,u(4,N)}function ce(t){ft[t?"unshift":"push"](()=>{x=t,u(6,x)})}return a.$$.update=()=>{a.$$.dirty&1&&oe()},[r,A,P,D,N,w,x,T,I,O,se,ne,U,p,$,V,re,k,le,ie,ce]}class Nt extends st{constructor(v){super(),nt(this,v,At,Tt,ot,{})}}export{Nt as component};
