import{S as z,i as B,s as L,k as p,a as P,q as I,l as v,m as y,c as C,r as k,h as m,n as b,p as w,R as x,b as O,D as l,I as A}from"./index.bb4c9b91.js";import{w as M}from"./index.affbd470.js";let _=Array.from(Array(6),(t,e)=>e+1);const F={1:"⚀",2:"⚁",3:"⚂",4:"⚃",5:"⚄",6:"⚅"};function T(t){return F[t]||t}function G(){return _}function K(t){_.push(t)}function Q(t){_=t}function W(t){_=[...new Set([..._,...t])]}const ot={get:G,add:K,set:Q,addUnique:W,getNumberAsDie:T};function X(t){let e,a=t[1].map(t[5]).join("")+"",s;return{c(){e=p("span"),s=I(a),this.h()},l(n){e=v(n,"SPAN",{style:!0});var r=y(e);s=k(r,a),r.forEach(m),this.h()},h(){w(e,"font-size","48px"),w(e,"line-height","1")},m(n,r){O(n,e,r),l(e,s)},p:A,d(n){n&&m(e)}}}function Y(t){let e,a,s,n,r,d,h,g,o,j=t[3].join(", ")+"",U,u=t[1].length>0&&X(t);return{c(){e=p("div"),a=p("div"),u&&u.c(),s=P(),n=p("span"),r=p("div"),d=I(t[2]),h=P(),g=p("div"),o=p("em"),U=I(j),this.h()},l(c){e=v(c,"DIV",{class:!0});var f=y(e);a=v(f,"DIV",{class:!0});var E=y(a);u&&u.l(E),s=C(E),n=v(E,"SPAN",{class:!0,style:!0});var S=y(n);r=v(S,"DIV",{});var N=y(r);d=k(N,t[2]),N.forEach(m),h=C(S),g=v(S,"DIV",{});var R=y(g);o=v(R,"EM",{});var q=y(o);U=k(q,j),q.forEach(m),R.forEach(m),S.forEach(m),E.forEach(m),f.forEach(m),this.h()},h(){b(n,"class","is-flex-grow-1"),w(n,"text-align","center"),x(n,"ml-4",!t[0]),b(a,"class","is-flex is-align-items-center is-justify-content-space-between"),x(a,"is-flex-direction-column",t[0]),b(e,"class","mb-4")},m(c,f){O(c,e,f),l(e,a),u&&u.m(a,null),l(a,s),l(a,n),l(n,r),l(r,d),l(n,h),l(n,g),l(g,o),l(o,U)},p(c,[f]){c[1].length>0&&u.p(c,f),f&1&&x(n,"ml-4",!c[0]),f&1&&x(a,"is-flex-direction-column",c[0])},i:A,o:A,d(c){c&&m(e),u&&u.d()}}}function Z(t,e,a){let{action:s=null}=e,{stacked:n=!1}=e;const{triggers:r,actionEffect:d,extraEffects:h}=s,g=o=>T(o);return t.$$set=o=>{"action"in o&&a(4,s=o.action),"stacked"in o&&a(0,n=o.stacked)},[n,r,d,h,s,g]}class ct extends z{constructor(e){super(),B(this,e,Z,Y,L,{action:4,stacked:0})}}let D;const $=new Uint8Array(16);function tt(){if(!D&&(D=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!D))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return D($)}const i=[];for(let t=0;t<256;++t)i.push((t+256).toString(16).slice(1));function et(t,e=0){return(i[t[e+0]]+i[t[e+1]]+i[t[e+2]]+i[t[e+3]]+"-"+i[t[e+4]]+i[t[e+5]]+"-"+i[t[e+6]]+i[t[e+7]]+"-"+i[t[e+8]]+i[t[e+9]]+"-"+i[t[e+10]]+i[t[e+11]]+i[t[e+12]]+i[t[e+13]]+i[t[e+14]]+i[t[e+15]]).toLowerCase()}const nt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),H={randomUUID:nt};function lt(t,e,a){if(H.randomUUID&&!e&&!t)return H.randomUUID();t=t||{};const s=t.random||(t.rng||tt)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,e){a=a||0;for(let n=0;n<16;++n)e[a+n]=s[n];return e}return et(s)}const V={Cleave:"Deal 1 Harm to all adjacent enemies.",Unblockable:"Ignore all enemy Block",Stun:"Target loses their next turn.",Poison:"Target takes 1 Harm at the start of their turn."};function at(){return V}function J(t){V[t]=null}function st(t){t.forEach(e=>{V[e]||J(e)})}const dt={getExtraEffects:at,addExtraEffect:J,addUniqueExtraEffects:st},ut=(t,e)=>{const a=localStorage.getItem(t),{subscribe:s,set:n,update:r}=M(JSON.parse(a)||e);return s(d=>localStorage.setItem(t,JSON.stringify(d))),{subscribe:s,add:d=>r(h=>[...h,d])}};export{ct as A,ut as c,dt as e,ot as t,lt as v};
