import{S as $e,i as et,s as tt,k as l,a as v,q as te,y as he,l as o,m as u,h as i,c as _,r as ae,z as ve,a5 as at,n as r,p as Qe,b as nt,I as t,a6 as ne,A as _e,J as me,u as st,g as Te,d as Ee,B as be,K as lt,L as ot,w as rt}from"./index.4a9c39e8.js";import{g as it,h as ct}from"./html2canvas.esm.b7c29734.js";import{t as ut}from"./SvelteToast.svelte_svelte_type_style_lang.8c7b9773.js";import{b as Ce}from"./paths.08c992ba.js";import{T as ft,a as dt,A as gt}from"./ActionList.11041012.js";import{E as ht,g as Me}from"./gear.47154ae2.js";import{C as vt}from"./CardTemplateSelector.ffd57df4.js";function _t(a){let f,s,I,A,N,P,z,T,V,p,c,h,g,J,se,M,D,le,k,W,S,oe,E,re,ie,ce,x,O,ue,e,b,R,Ve,U,Z,ke,Se,y,q,xe,L,F,G,Le,Be,we,C,B,K,fe=a[6]?"Save Changes":"Create Card",Ae,Ne,j,Re,Y,qe,de,Pe,Oe;return k=new ft({props:{placeholder:"Axe",tags:a[2],onTagsChange:a[13]}}),S=new dt({props:{label:"Range",availableTags:Object.values(a[14]),selectedTags:a[3],onTagsChange:a[19]}}),E=new gt({props:{actions:a[0],onAddAction:a[10],onRemoveAction:a[12],onEditAction:a[11]}}),G=new ht({props:{title:a[1],itemTags:a[2],range:a[3],flavorText:a[4],extraText:a[5],actions:a[0]}}),j=new vt({props:{onSelect:a[9],templateCards:a[8]}}),{c(){f=l("div"),s=l("div"),I=l("div"),A=l("a"),N=l("span"),P=l("iconify-icon"),z=v(),T=l("span"),V=te("Back"),p=v(),c=l("div"),h=l("div"),g=l("label"),J=te("Title"),se=v(),M=l("div"),D=l("input"),le=v(),he(k.$$.fragment),W=v(),he(S.$$.fragment),oe=v(),he(E.$$.fragment),re=v(),ie=l("br"),ce=v(),x=l("div"),O=l("label"),ue=te("Extra Text"),e=v(),b=l("div"),R=l("textarea"),Ve=v(),U=l("div"),Z=l("label"),ke=te("Flavor Text"),Se=v(),y=l("div"),q=l("textarea"),xe=v(),L=l("div"),F=l("div"),he(G.$$.fragment),Le=v(),Be=l("br"),we=v(),C=l("div"),B=l("div"),K=l("button"),Ae=te(fe),Ne=v(),he(j.$$.fragment),Re=v(),Y=l("button"),qe=te("Export as PNG"),this.h()},l(n){f=o(n,"DIV",{class:!0});var d=u(f);s=o(d,"DIV",{class:!0});var H=u(s);I=o(H,"DIV",{class:!0});var X=u(I);A=o(X,"A",{href:!0,class:!0});var Q=u(A);N=o(Q,"SPAN",{class:!0});var w=u(N);P=o(w,"ICONIFY-ICON",{icon:!0}),u(P).forEach(i),w.forEach(i),z=_(Q),T=o(Q,"SPAN",{});var ge=u(T);V=ae(ge,"Back"),ge.forEach(i),Q.forEach(i),p=_(X),c=o(X,"DIV",{});var m=u(c);h=o(m,"DIV",{class:!0});var De=u(h);g=o(De,"LABEL",{class:!0});var Ue=u(g);J=ae(Ue,"Title"),Ue.forEach(i),se=_(De),M=o(De,"DIV",{class:!0});var Fe=u(M);D=o(Fe,"INPUT",{class:!0,type:!0,placeholder:!0}),Fe.forEach(i),De.forEach(i),le=_(m),ve(k.$$.fragment,m),W=_(m),ve(S.$$.fragment,m),oe=_(m),ve(E.$$.fragment,m),re=_(m),ie=o(m,"BR",{}),ce=_(m),x=o(m,"DIV",{class:!0});var Ie=u(x);O=o(Ie,"LABEL",{class:!0});var Ge=u(O);ue=ae(Ge,"Extra Text"),Ge.forEach(i),e=_(Ie),b=o(Ie,"DIV",{class:!0});var je=u(b);R=o(je,"TEXTAREA",{class:!0,placeholder:!0}),u(R).forEach(i),je.forEach(i),Ie.forEach(i),Ve=_(m),U=o(m,"DIV",{class:!0});var pe=u(U);Z=o(pe,"LABEL",{class:!0});var Xe=u(Z);ke=ae(Xe,"Flavor Text"),Xe.forEach(i),Se=_(pe),y=o(pe,"DIV",{class:!0});var ze=u(y);q=o(ze,"TEXTAREA",{class:!0,placeholder:!0}),u(q).forEach(i),ze.forEach(i),pe.forEach(i),m.forEach(i),X.forEach(i),xe=_(H),L=o(H,"DIV",{class:!0});var $=u(L);F=o($,"DIV",{style:!0});var Je=u(F);ve(G.$$.fragment,Je),Je.forEach(i),Le=_($),Be=o($,"BR",{}),we=_($),C=o($,"DIV",{class:!0});var Ke=u(C);B=o(Ke,"DIV",{class:!0});var ee=u(B);K=o(ee,"BUTTON",{class:!0});var Ye=u(K);Ae=ae(Ye,fe),Ye.forEach(i),Ne=_(ee),ve(j.$$.fragment,ee),Re=_(ee),Y=o(ee,"BUTTON",{class:!0});var He=u(Y);qe=ae(He,"Export as PNG"),He.forEach(i),ee.forEach(i),Ke.forEach(i),$.forEach(i),H.forEach(i),d.forEach(i),this.h()},h(){at(P,"icon","mi:arrow-left"),r(N,"class","icon"),r(A,"href",Ce+"/equipment"),r(A,"class","button is-outlined mb-4"),r(g,"class","label"),r(D,"class","input"),r(D,"type","text"),r(D,"placeholder","Card Title"),r(M,"class","control"),r(h,"class","field"),r(O,"class","label"),r(R,"class","textarea"),r(R,"placeholder","Enter any extra text"),r(b,"class","control"),r(x,"class","field"),r(Z,"class","label"),r(q,"class","textarea"),r(q,"placeholder","Enter flavor text"),r(y,"class","control"),r(U,"class","field"),r(I,"class","column is-half"),Qe(F,"width","320px"),Qe(F,"height","480px"),r(K,"class","button is-primary"),r(Y,"class","button is-dark"),r(B,"class","control"),r(C,"class","field"),r(L,"class","column is-half"),r(s,"class","columns"),r(f,"class","container")},m(n,d){nt(n,f,d),t(f,s),t(s,I),t(I,A),t(A,N),t(N,P),t(A,z),t(A,T),t(T,V),t(I,p),t(I,c),t(c,h),t(h,g),t(g,J),t(h,se),t(h,M),t(M,D),ne(D,a[1]),t(c,le),_e(k,c,null),t(c,W),_e(S,c,null),t(c,oe),_e(E,c,null),t(c,re),t(c,ie),t(c,ce),t(c,x),t(x,O),t(O,ue),t(x,e),t(x,b),t(b,R),ne(R,a[5]),t(c,Ve),t(c,U),t(U,Z),t(Z,ke),t(U,Se),t(U,y),t(y,q),ne(q,a[4]),t(s,xe),t(s,L),t(L,F),_e(G,F,null),a[22](F),t(L,Le),t(L,Be),t(L,we),t(L,C),t(C,B),t(B,K),t(K,Ae),t(B,Ne),_e(j,B,null),t(B,Re),t(B,Y),t(Y,qe),de=!0,Pe||(Oe=[me(D,"input",a[18]),me(R,"input",a[20]),me(q,"input",a[21]),me(K,"click",a[15]),me(Y,"click",a[16])],Pe=!0)},p(n,[d]){d&2&&D.value!==n[1]&&ne(D,n[1]);const H={};d&4&&(H.tags=n[2]),k.$set(H);const X={};d&8&&(X.selectedTags=n[3]),d&8&&(X.onTagsChange=n[19]),S.$set(X);const Q={};d&1&&(Q.actions=n[0]),E.$set(Q),d&32&&ne(R,n[5]),d&16&&ne(q,n[4]);const w={};d&2&&(w.title=n[1]),d&4&&(w.itemTags=n[2]),d&8&&(w.range=n[3]),d&16&&(w.flavorText=n[4]),d&32&&(w.extraText=n[5]),d&1&&(w.actions=n[0]),G.$set(w),(!de||d&64)&&fe!==(fe=n[6]?"Save Changes":"Create Card")&&st(Ae,fe);const ge={};d&256&&(ge.templateCards=n[8]),j.$set(ge)},i(n){de||(Te(k.$$.fragment,n),Te(S.$$.fragment,n),Te(E.$$.fragment,n),Te(G.$$.fragment,n),Te(j.$$.fragment,n),de=!0)},o(n){Ee(k.$$.fragment,n),Ee(S.$$.fragment,n),Ee(E.$$.fragment,n),Ee(G.$$.fragment,n),Ee(j.$$.fragment,n),de=!1},d(n){n&&i(f),be(k),be(S),be(E),be(G),a[22](null),be(j),Pe=!1,lt(Oe)}}}const We="",Ze="",ye="";function mt(a){const f=document.createElement("a");f.href=a,f.download="rune_card.png",f.click()}function Tt(a,f,s){let I;ot(a,Me,e=>s(8,I=e));const A=[],N=[],P=[];let{uuid:z=null}=f,{title:T=We}=f,{itemTags:V=A}=f,{range:p=N}=f,{flavorText:c=Ze}=f,{extraText:h=ye}=f,{actions:g=P}=f,{editMode:J=!1}=f;function se(e){s(1,T=(e==null?void 0:e.title)||We),s(2,V=(e==null?void 0:e.itemTags)||A),s(3,p=(e==null?void 0:e.range)||N),s(4,c=(e==null?void 0:e.flavorText)||Ze),s(5,h=(e==null?void 0:e.extraText)||ye),s(0,g=(e==null?void 0:e.actions)||P)}function M(e){s(0,g=[...g,e])}function D(e){s(0,g=g.map(b=>b.id===e.id?e:b))}function le(e){s(0,g=g.filter(b=>b.id!==e.id))}function k(e){s(2,V=e)}const W={0:"Same",1:"Adjacent",2:"2",3:"3"};function S(){W[p]}function oe(){J?Me.edit(z,{title:T,itemTags:V,range:p,flavorText:c,extraText:h,actions:g}):Me.add({title:T,itemTags:V,range:p,flavorText:c,extraText:h,actions:g}),ut.push("saved card"),it(`${Ce}/equipment`)}let E;function re(){ct(E).then(e=>{const b=e.toDataURL("image/png");mt(b)})}function ie(){T=this.value,s(1,T)}const ce=e=>s(3,p=e);function x(){h=this.value,s(5,h)}function O(){c=this.value,s(4,c)}function ue(e){rt[e?"unshift":"push"](()=>{E=e,s(7,E)})}return a.$$set=e=>{"uuid"in e&&s(17,z=e.uuid),"title"in e&&s(1,T=e.title),"itemTags"in e&&s(2,V=e.itemTags),"range"in e&&s(3,p=e.range),"flavorText"in e&&s(4,c=e.flavorText),"extraText"in e&&s(5,h=e.extraText),"actions"in e&&s(0,g=e.actions),"editMode"in e&&s(6,J=e.editMode)},a.$$.update=()=>{a.$$.dirty&1&&S()},[g,T,V,p,c,h,J,E,I,se,M,D,le,k,W,oe,re,z,ie,ce,x,O,ue]}class kt extends $e{constructor(f){super(),et(this,f,Tt,_t,tt,{uuid:17,title:1,itemTags:2,range:3,flavorText:4,extraText:5,actions:0,editMode:6})}}export{kt as G};
