import{S as B,i as J,s as T,k as f,a as O,q as x,l as v,m as y,c as P,r as k,h as g,n as U,p as w,H as I,b as H,I as u,N as A}from"./index.4a9c39e8.js";import{w as q}from"./index.af5f2f02.js";let D;const z=new Uint8Array(16);function L(){if(!D&&(D=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!D))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return D(z)}const o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));function M(e,t=0){return(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase()}const W=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),C={randomUUID:W};function F(e,t,a){if(C.randomUUID&&!t&&!e)return C.randomUUID();e=e||{};const s=e.random||(e.rng||L)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,t){a=a||0;for(let n=0;n<16;++n)t[a+n]=s[n];return t}return M(s)}const R=(e,t)=>G(e,t),G=(e,t)=>{const a=localStorage.getItem(e),{subscribe:s,set:n,update:i}=q(JSON.parse(a)||t);s(r=>localStorage.setItem(e,JSON.stringify(r)));const h=()=>JSON.parse(localStorage.getItem(e));return{subscribe:s,update:r=>i(()=>r),add:r=>i(c=>[...c,{uuid:F(),...r}]),getById:r=>h().find(c=>c.uuid==r),delete:r=>i(c=>c.filter(l=>l.uuid!=r)),edit:(r,c)=>{i(l=>l.map(_=>_.uuid==r?{..._,...c}:_))}}};let K=Array.from(Array(6),(e,t)=>t+1);const Q={1:"⚀",2:"⚁",3:"⚂",4:"⚃",5:"⚄",6:"⚅"};function X(e){return Q[e]||e}const ae=R("triggerOptions",K);function Y(e){let t,a=e[1].map(e[5]).join("")+"",s;return{c(){t=f("span"),s=x(a),this.h()},l(n){t=v(n,"SPAN",{style:!0});var i=y(t);s=k(i,a),i.forEach(g),this.h()},h(){w(t,"font-size","48px"),w(t,"line-height","1")},m(n,i){H(n,t,i),u(t,s)},p:A,d(n){n&&g(t)}}}function Z(e){let t,a,s,n,i,h,r,c,l,_=e[3].join(", ")+"",E,m=e[1].length>0&&Y(e);return{c(){t=f("div"),a=f("div"),m&&m.c(),s=O(),n=f("span"),i=f("div"),h=x(e[2]),r=O(),c=f("div"),l=f("em"),E=x(_),this.h()},l(d){t=v(d,"DIV",{class:!0});var p=y(t);a=v(p,"DIV",{class:!0});var S=y(a);m&&m.l(S),s=P(S),n=v(S,"SPAN",{class:!0,style:!0});var b=y(n);i=v(b,"DIV",{});var V=y(i);h=k(V,e[2]),V.forEach(g),r=P(b),c=v(b,"DIV",{});var N=y(c);l=v(N,"EM",{});var j=y(l);E=k(j,_),j.forEach(g),N.forEach(g),b.forEach(g),S.forEach(g),p.forEach(g),this.h()},h(){U(n,"class","is-flex-grow-1"),w(n,"text-align","center"),I(n,"ml-4",!e[0]),U(a,"class","is-flex is-align-items-center is-justify-content-space-between"),I(a,"is-flex-direction-column",e[0]),U(t,"class","mb-4")},m(d,p){H(d,t,p),u(t,a),m&&m.m(a,null),u(a,s),u(a,n),u(n,i),u(i,h),u(n,r),u(n,c),u(c,l),u(l,E)},p(d,[p]){d[1].length>0&&m.p(d,p),p&1&&I(n,"ml-4",!d[0]),p&1&&I(a,"is-flex-direction-column",d[0])},i:A,o:A,d(d){d&&g(t),m&&m.d()}}}function $(e,t,a){let{action:s=null}=t,{stacked:n=!1}=t;const{triggers:i,actionEffect:h,extraEffects:r}=s,c=l=>X(l);return e.$$set=l=>{"action"in l&&a(4,s=l.action),"stacked"in l&&a(0,n=l.stacked)},[n,i,h,r,s,c]}class se extends B{constructor(t){super(),J(this,t,$,Z,T,{action:4,stacked:0})}}const ee=["Cleave","Unblockable","Stun","Poison"],ie={Cleave:"Deal 1 Harm to all adjacent enemies.",Unblockable:"Ignore all enemy Block",Stun:"Target loses their next turn.",Poison:"Target takes 1 Harm at the start of their turn."},re=R("extraEffects",ee);export{se as A,R as c,ie as e,re as s,ae as t,F as v};
