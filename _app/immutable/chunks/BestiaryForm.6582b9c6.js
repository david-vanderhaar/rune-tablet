import{S as Dt,i as It,s as At,k as i,a as d,q as x,y as Ae,l as o,m as c,h as r,c as v,r as C,z as Ve,a5 as Vt,n as l,p as vt,b as Bt,I as t,a6 as U,A as Be,J as se,u as Lt,g as Le,d as Ne,B as Se,K as Nt,L as St,w as kt}from"./index.4a9c39e8.js";import{g as wt,h as pt}from"./html2canvas.esm.f461c225.js";import{t as Pt}from"./SvelteToast.svelte_svelte_type_style_lang.8c7b9773.js";import{b as Et}from"./paths.6c245a75.js";import{T as Rt,a as Ut,A as Mt}from"./ActionList.11041012.js";import{B as Ot}from"./BeastiaryCard.f8570900.js";import{C as Ft}from"./CardTemplateSelector.ffd57df4.js";import{b as Ce}from"./beastiary.a9068db3.js";function qt(a){let f,s,M,q,ne,y,$,V,T,I,u,_,E,B,m,S,A,ve,k,j,ge,le,G,L,H,w,X,_e,me,z,N,be,p,e,b,Me,J,Oe,Fe,qe,K,ie,ye,je,oe,O,Ge,Y,re,He,Xe,ce,F,ze,P,Q,W,Je,Ke,Ye,ue,R,ee,Te=a[8]?"Save Changes":"Create Card",ke,Qe,Z,We,te,Ze,Ee,xe,$e;return p=new Rt({props:{placeholder:"Undead",tags:a[4],onTagsChange:a[15]}}),b=new Ut({props:{label:"Range",availableTags:Object.values(a[16]),selectedTags:a[5],onTagsChange:a[23]}}),J=new Mt({props:{actions:a[0],onAddAction:a[12],onRemoveAction:a[14],onEditAction:a[13]}}),W=new Ot({props:{title:a[1],itemTags:a[4],range:a[5],flavorText:a[6],extraText:a[7],actions:a[0],health:a[2],stamina:a[3]}}),Z=new Ft({props:{onSelect:a[11],templateCards:a[10]}}),{c(){f=i("div"),s=i("a"),M=i("span"),q=i("iconify-icon"),ne=d(),y=i("span"),$=x("Back"),V=d(),T=i("div"),I=i("div"),u=i("div"),_=i("div"),E=i("label"),B=x("Name"),m=d(),S=i("div"),A=i("input"),ve=d(),k=i("div"),j=i("label"),ge=x("Health"),le=d(),G=i("div"),L=i("input"),H=d(),w=i("div"),X=i("label"),_e=x("Stamina"),me=d(),z=i("div"),N=i("input"),be=d(),Ae(p.$$.fragment),e=d(),Ae(b.$$.fragment),Me=d(),Ae(J.$$.fragment),Oe=d(),Fe=i("br"),qe=d(),K=i("div"),ie=i("label"),ye=x("Extra Text"),je=d(),oe=i("div"),O=i("textarea"),Ge=d(),Y=i("div"),re=i("label"),He=x("Flavor Text"),Xe=d(),ce=i("div"),F=i("textarea"),ze=d(),P=i("div"),Q=i("div"),Ae(W.$$.fragment),Je=d(),Ke=i("br"),Ye=d(),ue=i("div"),R=i("div"),ee=i("button"),ke=x(Te),Qe=d(),Ae(Z.$$.fragment),We=d(),te=i("button"),Ze=x("Export as PNG"),this.h()},l(n){f=o(n,"DIV",{class:!0});var h=c(f);s=o(h,"A",{href:!0,class:!0});var ae=c(s);M=o(ae,"SPAN",{class:!0});var fe=c(M);q=o(fe,"ICONIFY-ICON",{icon:!0}),c(q).forEach(r),fe.forEach(r),ne=v(ae),y=o(ae,"SPAN",{});var De=c(y);$=C(De,"Back"),De.forEach(r),ae.forEach(r),V=v(h),T=o(h,"DIV",{class:!0});var D=c(T);I=o(D,"DIV",{class:!0});var Ie=c(I);u=o(Ie,"DIV",{});var g=c(u);_=o(g,"DIV",{class:!0});var we=c(_);E=o(we,"LABEL",{class:!0});var et=c(E);B=C(et,"Name"),et.forEach(r),m=v(we),S=o(we,"DIV",{class:!0});var tt=c(S);A=o(tt,"INPUT",{class:!0,type:!0,placeholder:!0}),tt.forEach(r),we.forEach(r),ve=v(g),k=o(g,"DIV",{class:!0});var pe=c(k);j=o(pe,"LABEL",{class:!0});var at=c(j);ge=C(at,"Health"),at.forEach(r),le=v(pe),G=o(pe,"DIV",{class:!0});var st=c(G);L=o(st,"INPUT",{class:!0,placeholder:!0}),st.forEach(r),pe.forEach(r),H=v(g),w=o(g,"DIV",{class:!0});var Pe=c(w);X=o(Pe,"LABEL",{class:!0});var nt=c(X);_e=C(nt,"Stamina"),nt.forEach(r),me=v(Pe),z=o(Pe,"DIV",{class:!0});var lt=c(z);N=o(lt,"INPUT",{class:!0,placeholder:!0}),lt.forEach(r),Pe.forEach(r),be=v(g),Ve(p.$$.fragment,g),e=v(g),Ve(b.$$.fragment,g),Me=v(g),Ve(J.$$.fragment,g),Oe=v(g),Fe=o(g,"BR",{}),qe=v(g),K=o(g,"DIV",{class:!0});var Re=c(K);ie=o(Re,"LABEL",{class:!0});var it=c(ie);ye=C(it,"Extra Text"),it.forEach(r),je=v(Re),oe=o(Re,"DIV",{class:!0});var ot=c(oe);O=o(ot,"TEXTAREA",{class:!0,placeholder:!0}),c(O).forEach(r),ot.forEach(r),Re.forEach(r),Ge=v(g),Y=o(g,"DIV",{class:!0});var Ue=c(Y);re=o(Ue,"LABEL",{class:!0});var rt=c(re);He=C(rt,"Flavor Text"),rt.forEach(r),Xe=v(Ue),ce=o(Ue,"DIV",{class:!0});var ct=c(ce);F=o(ct,"TEXTAREA",{class:!0,placeholder:!0}),c(F).forEach(r),ct.forEach(r),Ue.forEach(r),g.forEach(r),Ie.forEach(r),ze=v(D),P=o(D,"DIV",{class:!0});var he=c(P);Q=o(he,"DIV",{style:!0});var ut=c(Q);Ve(W.$$.fragment,ut),ut.forEach(r),Je=v(he),Ke=o(he,"BR",{}),Ye=v(he),ue=o(he,"DIV",{class:!0});var ft=c(ue);R=o(ft,"DIV",{class:!0});var de=c(R);ee=o(de,"BUTTON",{class:!0});var ht=c(ee);ke=C(ht,Te),ht.forEach(r),Qe=v(de),Ve(Z.$$.fragment,de),We=v(de),te=o(de,"BUTTON",{class:!0});var dt=c(te);Ze=C(dt,"Export as PNG"),dt.forEach(r),de.forEach(r),ft.forEach(r),he.forEach(r),D.forEach(r),h.forEach(r),this.h()},h(){Vt(q,"icon","mi:arrow-left"),l(M,"class","icon"),l(s,"href",Et+"/bestiary"),l(s,"class","button is-outlined mb-4"),l(E,"class","label"),l(A,"class","input"),l(A,"type","text"),l(A,"placeholder","Name"),l(S,"class","control"),l(_,"class","field"),l(j,"class","label"),l(L,"class","input"),l(L,"placeholder","3"),l(G,"class","control"),l(k,"class","field"),l(X,"class","label"),l(N,"class","input"),l(N,"placeholder","1"),l(z,"class","control"),l(w,"class","field"),l(ie,"class","label"),l(O,"class","textarea"),l(O,"placeholder","Enter any extra text"),l(oe,"class","control"),l(K,"class","field"),l(re,"class","label"),l(F,"class","textarea"),l(F,"placeholder","Enter flavor text"),l(ce,"class","control"),l(Y,"class","field"),l(I,"class","column is-half"),vt(Q,"width","480px"),vt(Q,"height","320px"),l(ee,"class","button is-primary"),l(te,"class","button is-dark"),l(R,"class","control"),l(ue,"class","field"),l(P,"class","column"),l(T,"class","columns is-flex-wrap-wrap-reverse"),l(f,"class","container")},m(n,h){Bt(n,f,h),t(f,s),t(s,M),t(M,q),t(s,ne),t(s,y),t(y,$),t(f,V),t(f,T),t(T,I),t(I,u),t(u,_),t(_,E),t(E,B),t(_,m),t(_,S),t(S,A),U(A,a[1]),t(u,ve),t(u,k),t(k,j),t(j,ge),t(k,le),t(k,G),t(G,L),U(L,a[2]),t(u,H),t(u,w),t(w,X),t(X,_e),t(w,me),t(w,z),t(z,N),U(N,a[3]),t(u,be),Be(p,u,null),t(u,e),Be(b,u,null),t(u,Me),Be(J,u,null),t(u,Oe),t(u,Fe),t(u,qe),t(u,K),t(K,ie),t(ie,ye),t(K,je),t(K,oe),t(oe,O),U(O,a[7]),t(u,Ge),t(u,Y),t(Y,re),t(re,He),t(Y,Xe),t(Y,ce),t(ce,F),U(F,a[6]),t(T,ze),t(T,P),t(P,Q),Be(W,Q,null),a[26](Q),t(P,Je),t(P,Ke),t(P,Ye),t(P,ue),t(ue,R),t(R,ee),t(ee,ke),t(R,Qe),Be(Z,R,null),t(R,We),t(R,te),t(te,Ze),Ee=!0,xe||($e=[se(A,"input",a[20]),se(L,"input",a[21]),se(N,"input",a[22]),se(O,"input",a[24]),se(F,"input",a[25]),se(ee,"click",a[17]),se(te,"click",a[18])],xe=!0)},p(n,h){h[0]&2&&A.value!==n[1]&&U(A,n[1]),h[0]&4&&L.value!==n[2]&&U(L,n[2]),h[0]&8&&N.value!==n[3]&&U(N,n[3]);const ae={};h[0]&16&&(ae.tags=n[4]),p.$set(ae);const fe={};h[0]&32&&(fe.selectedTags=n[5]),h[0]&32&&(fe.onTagsChange=n[23]),b.$set(fe);const De={};h[0]&1&&(De.actions=n[0]),J.$set(De),h[0]&128&&U(O,n[7]),h[0]&64&&U(F,n[6]);const D={};h[0]&2&&(D.title=n[1]),h[0]&16&&(D.itemTags=n[4]),h[0]&32&&(D.range=n[5]),h[0]&64&&(D.flavorText=n[6]),h[0]&128&&(D.extraText=n[7]),h[0]&1&&(D.actions=n[0]),h[0]&4&&(D.health=n[2]),h[0]&8&&(D.stamina=n[3]),W.$set(D),(!Ee||h[0]&256)&&Te!==(Te=n[8]?"Save Changes":"Create Card")&&Lt(ke,Te);const Ie={};h[0]&1024&&(Ie.templateCards=n[10]),Z.$set(Ie)},i(n){Ee||(Le(p.$$.fragment,n),Le(b.$$.fragment,n),Le(J.$$.fragment,n),Le(W.$$.fragment,n),Le(Z.$$.fragment,n),Ee=!0)},o(n){Ne(p.$$.fragment,n),Ne(b.$$.fragment,n),Ne(J.$$.fragment,n),Ne(W.$$.fragment,n),Ne(Z.$$.fragment,n),Ee=!1},d(n){n&&r(f),Se(p),Se(b),Se(J),Se(W),a[26](null),Se(Z),xe=!1,Nt($e)}}}const gt="",_t="",mt="",bt="",Tt="";function yt(a){const f=document.createElement("a");f.href=a,f.download="rune_card.png",f.click()}function jt(a,f,s){let M;St(a,Ce,e=>s(10,M=e));const q=[],ne=[],y=[];let{uuid:$=null}=f,{title:V=gt}=f,{health:T=_t}=f,{stamina:I=mt}=f,{itemTags:u=q}=f,{range:_=ne}=f,{flavorText:E=bt}=f,{extraText:B=Tt}=f,{actions:m=y}=f,{editMode:S=!1}=f;function A(e){s(1,V=(e==null?void 0:e.title)||gt),s(2,T=(e==null?void 0:e.health)||_t),s(3,I=(e==null?void 0:e.stamina)||mt),s(4,u=(e==null?void 0:e.itemTags)||q),s(5,_=(e==null?void 0:e.range)||ne),s(6,E=(e==null?void 0:e.flavorText)||bt),s(7,B=(e==null?void 0:e.extraText)||Tt),s(0,m=(e==null?void 0:e.actions)||y)}function ve(e){s(0,m=[...m,e])}function k(e){s(0,m=m.map(b=>b.id===e.id?e:b))}function j(e){s(0,m=m.filter(b=>b.id!==e.id))}function ge(e){s(4,u=e)}const le={0:"Same",1:"Adjacent",2:"2",3:"3"};function G(){le[_]}function L(){S?Ce.edit($,{title:V,itemTags:u,range:_,flavorText:E,extraText:B,actions:m}):Ce.add({title:V,itemTags:u,range:_,flavorText:E,extraText:B,actions:m}),Pt.push("saved card"),wt(`${Et}/bestiary`)}let H;function w(){pt(H).then(e=>{const b=e.toDataURL("image/png");yt(b)})}function X(){V=this.value,s(1,V)}function _e(){T=this.value,s(2,T)}function me(){I=this.value,s(3,I)}const z=e=>s(5,_=e);function N(){B=this.value,s(7,B)}function be(){E=this.value,s(6,E)}function p(e){kt[e?"unshift":"push"](()=>{H=e,s(9,H)})}return a.$$set=e=>{"uuid"in e&&s(19,$=e.uuid),"title"in e&&s(1,V=e.title),"health"in e&&s(2,T=e.health),"stamina"in e&&s(3,I=e.stamina),"itemTags"in e&&s(4,u=e.itemTags),"range"in e&&s(5,_=e.range),"flavorText"in e&&s(6,E=e.flavorText),"extraText"in e&&s(7,B=e.extraText),"actions"in e&&s(0,m=e.actions),"editMode"in e&&s(8,S=e.editMode)},a.$$.update=()=>{a.$$.dirty[0]&1&&G()},[m,V,T,I,u,_,E,B,S,H,M,A,ve,k,j,ge,le,L,w,$,X,_e,me,z,N,be,p]}class Wt extends Dt{constructor(f){super(),It(this,f,jt,qt,At,{uuid:19,title:1,health:2,stamina:3,itemTags:4,range:5,flavorText:6,extraText:7,actions:0,editMode:8},null,[-1,-1])}}export{Wt as B};
