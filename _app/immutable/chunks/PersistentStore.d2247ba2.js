import{S as G,i as K,s as Q,k as E,a as U,q as V,l as D,m as S,c as A,r as N,h as p,n as b,p as F,R as _,b as P,D as f,J as T,_ as z,E as R,u as X,P as $,I as ee}from"./index.2d80fb02.js";import{w as te}from"./index.2d54d1ba.js";let O=Array.from(Array(6),(e,t)=>t+1);const le={1:"⚀",2:"⚁",3:"⚂",4:"⚃",5:"⚄",6:"⚅"};function Z(e){return le[e]||e}function ne(){return O}function se(e){O.push(e)}function ie(e){O=e}function ae(e){O=[...new Set([...O,...e])]}const Ee={get:ne,add:se,set:ie,addUnique:ae,getNumberAsDie:Z};function oe(e){let t,l=e[1].map(e[5]).join("")+"",n;return{c(){t=E("span"),n=V(l),this.h()},l(s){t=D(s,"SPAN",{style:!0});var r=S(t);n=N(r,l),r.forEach(p),this.h()},h(){F(t,"font-size","48px"),F(t,"line-height","1")},m(s,r){P(s,t,r),f(t,n)},p:T,d(s){s&&p(t)}}}function re(e){let t,l,n,s,r,m,v,w,i,c=e[3].join(", ")+"",y,I=e[1].length>0&&oe(e);return{c(){t=E("div"),l=E("div"),I&&I.c(),n=U(),s=E("span"),r=E("div"),m=V(e[2]),v=U(),w=E("div"),i=E("em"),y=V(c),this.h()},l(k){t=D(k,"DIV",{class:!0});var a=S(t);l=D(a,"DIV",{class:!0});var d=S(l);I&&I.l(d),n=A(d),s=D(d,"SPAN",{class:!0,style:!0});var o=S(s);r=D(o,"DIV",{});var h=S(r);m=N(h,e[2]),h.forEach(p),v=A(o),w=D(o,"DIV",{});var u=S(w);i=D(u,"EM",{});var C=S(i);y=N(C,c),C.forEach(p),u.forEach(p),o.forEach(p),d.forEach(p),a.forEach(p),this.h()},h(){b(s,"class","is-flex-grow-1"),F(s,"text-align","center"),_(s,"ml-4",!e[0]),b(l,"class","is-flex is-align-items-center is-justify-content-space-between"),_(l,"is-flex-direction-column",e[0]),b(t,"class","mb-4")},m(k,a){P(k,t,a),f(t,l),I&&I.m(l,null),f(l,n),f(l,s),f(s,r),f(r,m),f(s,v),f(s,w),f(w,i),f(i,y)},p(k,[a]){k[1].length>0&&I.p(k,a),a&1&&_(s,"ml-4",!k[0]),a&1&&_(l,"is-flex-direction-column",k[0])},i:T,o:T,d(k){k&&p(t),I&&I.d()}}}function ce(e,t,l){let{action:n=null}=t,{stacked:s=!1}=t;const{triggers:r,actionEffect:m,extraEffects:v}=n,w=i=>Z(i);return e.$$set=i=>{"action"in i&&l(4,n=i.action),"stacked"in i&&l(0,s=i.stacked)},[s,r,m,v,n,w]}class De extends G{constructor(t){super(),K(this,t,ce,re,Q,{action:4,stacked:0})}}let j;const de=new Uint8Array(16);function ue(){if(!j&&(j=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!j))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return j(de)}const g=[];for(let e=0;e<256;++e)g.push((e+256).toString(16).slice(1));function fe(e,t=0){return(g[e[t+0]]+g[e[t+1]]+g[e[t+2]]+g[e[t+3]]+"-"+g[e[t+4]]+g[e[t+5]]+"-"+g[e[t+6]]+g[e[t+7]]+"-"+g[e[t+8]]+g[e[t+9]]+"-"+g[e[t+10]]+g[e[t+11]]+g[e[t+12]]+g[e[t+13]]+g[e[t+14]]+g[e[t+15]]).toLowerCase()}const he=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),L={randomUUID:he};function Se(e,t,l){if(L.randomUUID&&!t&&!e)return L.randomUUID();e=e||{};const n=e.random||(e.rng||ue)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){l=l||0;for(let s=0;s<16;++s)t[l+s]=n[s];return t}return fe(n)}const W={Cleave:"Deal 1 Harm to all adjacent enemies.",Unblockable:"Ignore all enemy Block",Stun:"Target loses their next turn.",Poison:"Target takes 1 Harm at the start of their turn."};function me(){return W}function x(e){W[e]=null}function ve(e){e.forEach(t=>{W[t]||x(t)})}const Ie={getExtraEffects:me,addExtraEffect:x,addUniqueExtraEffects:ve};function M(e,t,l){const n=e.slice();return n[11]=t[l],n}function Y(e){let t,l,n=e[11].title+"",s,r,m,v;function w(){return e[10](e[11])}return{c(){t=E("div"),l=E("button"),s=V(n),r=U(),this.h()},l(i){t=D(i,"DIV",{class:!0});var c=S(t);l=D(c,"BUTTON",{class:!0});var y=S(l);s=N(y,n),y.forEach(p),r=A(c),c.forEach(p),this.h()},h(){b(l,"class","is-flex is-justify-content-space-between button is-fullwidth is-dark svelte-10u7xal"),_(l,"full-width-select",e[2]),b(t,"class","dropdown-item svelte-10u7xal"),_(t,"full-width-select",e[2])},m(i,c){P(i,t,c),f(t,l),f(l,s),f(t,r),m||(v=R(l,"click",w),m=!0)},p(i,c){e=i,c&1&&n!==(n=e[11].title+"")&&X(s,n),c&4&&_(l,"full-width-select",e[2]),c&4&&_(t,"full-width-select",e[2])},d(i){i&&p(t),m=!1,v()}}}function _e(e){let t,l,n,s,r,m,v,w,i,c,y,I,k,a=e[0],d=[];for(let o=0;o<a.length;o+=1)d[o]=Y(M(e,a,o));return{c(){t=E("div"),l=E("div"),n=E("button"),s=E("span"),r=V(e[1]),m=U(),v=E("iconify-icon"),w=U(),i=E("div"),c=E("div");for(let o=0;o<d.length;o+=1)d[o].c();this.h()},l(o){t=D(o,"DIV",{class:!0});var h=S(t);l=D(h,"DIV",{class:!0});var u=S(l);n=D(u,"BUTTON",{class:!0,"aria-haspopup":!0,"aria-controls":!0});var C=S(n);s=D(C,"SPAN",{class:!0});var B=S(s);r=N(B,e[1]),B.forEach(p),m=A(C),v=D(C,"ICONIFY-ICON",{icon:!0}),S(v).forEach(p),C.forEach(p),u.forEach(p),w=A(h),i=D(h,"DIV",{class:!0,id:!0,role:!0});var H=S(i);c=D(H,"DIV",{class:!0});var J=S(c);for(let q=0;q<d.length;q+=1)d[q].l(J);J.forEach(p),H.forEach(p),h.forEach(p),this.h()},h(){b(s,"class","mr-1"),z(v,"icon",e[5]),b(n,"class","button svelte-10u7xal"),b(n,"aria-haspopup","true"),b(n,"aria-controls","dropdown-menu"),_(n,"full-width-select",e[2]),b(l,"class","dropdown-trigger svelte-10u7xal"),_(l,"full-width-select",e[2]),b(c,"class","dropdown-content svelte-10u7xal"),_(c,"full-width-select",e[2]),b(i,"class","dropdown-menu svelte-10u7xal"),b(i,"id","dropdown-menu"),b(i,"role","menu"),_(i,"full-width-select",e[2]),b(t,"class",y="dropdown is-"+e[3]+" mb-2 svelte-10u7xal"),_(t,"is-active",e[4]),_(t,"full-width-select",e[2])},m(o,h){P(o,t,h),f(t,l),f(l,n),f(n,s),f(s,r),f(n,m),f(n,v),f(t,w),f(t,i),f(i,c);for(let u=0;u<d.length;u+=1)d[u]&&d[u].m(c,null);I||(k=[R(window,"click",e[8]),R(n,"click",e[6])],I=!0)},p(o,[h]){if(h&2&&X(r,o[1]),h&32&&z(v,"icon",o[5]),h&4&&_(n,"full-width-select",o[2]),h&4&&_(l,"full-width-select",o[2]),h&133){a=o[0];let u;for(u=0;u<a.length;u+=1){const C=M(o,a,u);d[u]?d[u].p(C,h):(d[u]=Y(C),d[u].c(),d[u].m(c,null))}for(;u<d.length;u+=1)d[u].d(1);d.length=a.length}h&4&&_(c,"full-width-select",o[2]),h&4&&_(i,"full-width-select",o[2]),h&8&&y!==(y="dropdown is-"+o[3]+" mb-2 svelte-10u7xal")&&b(t,"class",y),h&24&&_(t,"is-active",o[4]),h&12&&_(t,"full-width-select",o[2])},i:T,o:T,d(o){o&&p(t),$(d,o),I=!1,ee(k)}}}function pe(e,t,l){let n,{templateCards:s=[]}=t,{onSelect:r}=t,{label:m="Templates"}=t,{isFullWidth:v=!1}=t,{dropdownDirection:w="up"}=t,i=!1;function c(){l(4,i=!i)}function y(a){l(4,i=!1),r(a)}function I(a){i&&(document.querySelector(".dropdown").contains(a.target)||l(4,i=!1))}const k=a=>y(a);return e.$$set=a=>{"templateCards"in a&&l(0,s=a.templateCards),"onSelect"in a&&l(9,r=a.onSelect),"label"in a&&l(1,m=a.label),"isFullWidth"in a&&l(2,v=a.isFullWidth),"dropdownDirection"in a&&l(3,w=a.dropdownDirection)},e.$$.update=()=>{e.$$.dirty&16&&l(5,n=i?"mi:chevron-up":"mi:chevron-down")},[s,m,v,w,i,n,c,y,I,r,k]}class ke extends G{constructor(t){super(),K(this,t,pe,_e,Q,{templateCards:0,onSelect:9,label:1,isFullWidth:2,dropdownDirection:3})}}const ye=(e,t)=>ge(e,t),ge=(e,t)=>{const l=localStorage.getItem(e),{subscribe:n,set:s,update:r}=te(JSON.parse(l)||t);return n(m=>localStorage.setItem(e,JSON.stringify(m))),{subscribe:n,add:m=>r(v=>[...v,m])}};export{De as A,ke as C,ye as c,Ie as e,Ee as t,Se as v};
