import{S as ve,i as Te,s as pe,k as T,q as x,a as A,l as p,m as y,r as S,h as m,c as D,n as j,p as oe,b as J,D as o,u as q,v as be,M as ye,N as ke,f as xe,g as _e,d as Ee,O as Se,e as X,y as we,z as He,A as Ae,B as De}from"./index.bb4c9b91.js";import{A as Pe,e as Ie}from"./extraEffects.276ce4a3.js";import{w as je}from"./index.affbd470.js";function fe(l,t,e){const a=l.slice();return a[11]=t[e],a}function ce(l,t,e){const a=l.slice();return a[14]=t[e],a}function ue(l){let t,e,a=l[4].join(", ")+"",c;return{c(){t=T("p"),e=x("Range: "),c=x(a)},l(n){t=p(n,"P",{});var r=y(t);e=S(r,"Range: "),c=S(r,a),r.forEach(m)},m(n,r){J(n,t,r),o(t,e),o(t,c)},p(n,r){r&16&&a!==(a=n[4].join(", ")+"")&&q(c,a)},d(n){n&&m(t)}}}function de(l,t){let e,a,c;return a=new Pe({props:{action:t[14]}}),{key:l,first:null,c(){e=X(),we(a.$$.fragment),this.h()},l(n){e=X(),He(a.$$.fragment,n),this.h()},h(){this.first=e},m(n,r){J(n,e,r),Ae(a,n,r),c=!0},p(n,r){t=n;const d={};r&128&&(d.action=t[14]),a.$set(d)},i(n){c||(_e(a.$$.fragment,n),c=!0)},o(n){Ee(a.$$.fragment,n),c=!1},d(n){n&&m(e),De(a,n)}}}function he(l){let t,e,a=l[11]+"",c,n,r=l[9][l[11]]+"",d;return{c(){t=T("p"),e=T("em"),c=x(a),n=x(": "),d=x(r)},l(h){t=p(h,"P",{});var g=y(t);e=p(g,"EM",{});var k=y(e);c=S(k,a),k.forEach(m),n=S(g,": "),d=S(g,r),g.forEach(m)},m(h,g){J(h,t,g),o(t,e),o(e,c),o(t,n),o(t,d)},p(h,g){g&256&&a!==(a=h[11]+"")&&q(c,a),g&256&&r!==(r=h[9][h[11]]+"")&&q(d,r)},d(h){h&&m(t)}}}function me(l){let t,e=l[9][l[11]]&&he(l);return{c(){e&&e.c(),t=X()},l(a){e&&e.l(a),t=X()},m(a,c){e&&e.m(a,c),J(a,t,c)},p(a,c){a[9][a[11]]?e?e.p(a,c):(e=he(a),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(a){e&&e.d(a),a&&m(t)}}}function qe(l){let t,e,a,c,n,r,d,h=ge(l[1],l[2])+"",g,k,M,P=(l[3]&&l[3].join(", "))+"",F,u,O,W,Z,w,v=[],ae=new Map,U,b,$,ee,Y,V,L,te,B,K,H,E=l[4]&&l[4]&&l[4].length>0&&ue(l),z=l[7];const le=i=>i[14];for(let i=0;i<z.length;i+=1){let f=ce(l,z,i),s=le(f);ae.set(s,v[i]=de(s,f))}let C=l[8],_=[];for(let i=0;i<C.length;i+=1)_[i]=me(fe(l,C,i));return{c(){t=T("div"),e=T("div"),a=T("p"),c=x(l[0]),n=A(),r=T("div"),d=T("p"),g=x(h),k=A(),M=T("p"),F=x(P),u=A(),E&&E.c(),O=A(),W=T("hr"),Z=A(),w=T("div");for(let i=0;i<v.length;i+=1)v[i].c();U=A(),b=T("div"),$=T("hr"),ee=A();for(let i=0;i<_.length;i+=1)_[i].c();Y=A(),V=T("p"),L=x(l[6]),te=A(),B=T("p"),K=x(l[5]),this.h()},l(i){t=p(i,"DIV",{class:!0});var f=y(t);e=p(f,"DIV",{class:!0,style:!0});var s=y(e);a=p(s,"P",{class:!0});var G=y(a);c=S(G,l[0]),G.forEach(m),n=D(s),r=p(s,"DIV",{class:!0});var N=y(r);d=p(N,"P",{});var ie=y(d);g=S(ie,h),ie.forEach(m),k=D(N),M=p(N,"P",{});var re=y(M);F=S(re,P),re.forEach(m),u=D(N),E&&E.l(N),N.forEach(m),O=D(s),W=p(s,"HR",{}),Z=D(s),w=p(s,"DIV",{class:!0});var Q=y(w);for(let R=0;R<v.length;R+=1)v[R].l(Q);U=D(Q),b=p(Q,"DIV",{class:!0,style:!0});var I=y(b);$=p(I,"HR",{}),ee=D(I);for(let R=0;R<_.length;R+=1)_[R].l(I);Y=D(I),V=p(I,"P",{class:!0});var ne=y(V);L=S(ne,l[6]),ne.forEach(m),te=D(I),B=p(I,"P",{class:!0});var se=y(B);K=S(se,l[5]),se.forEach(m),I.forEach(m),Q.forEach(m),s.forEach(m),f.forEach(m),this.h()},h(){j(a,"class","title"),j(r,"class","is-size-6 subtitle"),j(V,"class","has-text-centered"),j(B,"class","has-text-grey is-italic has-text-centered"),j(b,"class","bottom-content svelte-gmcenr"),oe(b,"background-color","white"),j(w,"class","content"),j(e,"class","card-content has-text-centered pb-0 svelte-gmcenr"),oe(e,"background-color","white"),j(t,"class","card equipment-card svelte-gmcenr")},m(i,f){J(i,t,f),o(t,e),o(e,a),o(a,c),o(e,n),o(e,r),o(r,d),o(d,g),o(r,k),o(r,M),o(M,F),o(r,u),E&&E.m(r,null),o(e,O),o(e,W),o(e,Z),o(e,w);for(let s=0;s<v.length;s+=1)v[s]&&v[s].m(w,null);o(w,U),o(w,b),o(b,$),o(b,ee);for(let s=0;s<_.length;s+=1)_[s]&&_[s].m(b,null);o(b,Y),o(b,V),o(V,L),o(b,te),o(b,B),o(B,K),H=!0},p(i,[f]){if((!H||f&1)&&q(c,i[0]),(!H||f&6)&&h!==(h=ge(i[1],i[2])+"")&&q(g,h),(!H||f&8)&&P!==(P=(i[3]&&i[3].join(", "))+"")&&q(F,P),i[4]&&i[4]&&i[4].length>0?E?E.p(i,f):(E=ue(i),E.c(),E.m(r,null)):E&&(E.d(1),E=null),f&128&&(z=i[7],be(),v=ye(v,f,le,1,i,z,ae,w,ke,de,U,ce),xe()),f&768){C=i[8];let s;for(s=0;s<C.length;s+=1){const G=fe(i,C,s);_[s]?_[s].p(G,f):(_[s]=me(G),_[s].c(),_[s].m(b,Y))}for(;s<_.length;s+=1)_[s].d(1);_.length=C.length}(!H||f&64)&&q(L,i[6]),(!H||f&32)&&q(K,i[5])},i(i){if(!H){for(let f=0;f<z.length;f+=1)_e(v[f]);H=!0}},o(i){for(let f=0;f<v.length;f+=1)Ee(v[f]);H=!1},d(i){i&&m(t),E&&E.d();for(let f=0;f<v.length;f+=1)v[f].d();Se(_,i)}}}function ge(l,t){const e=[];return l&&l.length>0&&e.push(`Health: ${l}`),t&&t.length>0&&e.push(`Stamina: ${t}`),e.join(", ")}function Me(l,t,e){let{title:a=""}=t,{health:c=""}=t,{stamina:n=""}=t,{itemTags:r=[]}=t,{range:d=[]}=t,{flavorText:h=""}=t,{extraText:g=""}=t,{actions:k=[]}=t;const M=Ie.getExtraEffects();let P=[];function F(){let u=k.reduce((O,W)=>[...O,...W.extraEffects],[]);e(8,P=[...new Set(u)])}return l.$$set=u=>{"title"in u&&e(0,a=u.title),"health"in u&&e(1,c=u.health),"stamina"in u&&e(2,n=u.stamina),"itemTags"in u&&e(3,r=u.itemTags),"range"in u&&e(4,d=u.range),"flavorText"in u&&e(5,h=u.flavorText),"extraText"in u&&e(6,g=u.extraText),"actions"in u&&e(7,k=u.actions)},l.$$.update=()=>{l.$$.dirty&128&&F()},[a,c,n,r,d,h,g,k,P,M]}class Ne extends ve{constructor(t){super(),Te(this,t,Me,qe,pe,{title:0,health:1,stamina:2,itemTags:3,range:4,flavorText:5,extraText:6,actions:7})}}const Re=(l,t)=>{const e=localStorage.getItem(l),{subscribe:a,set:c,update:n}=je(JSON.parse(e)||t);return a(r=>localStorage.setItem(l,JSON.stringify(r))),{subscribe:a,add:r=>n(d=>[...d,r])}},Fe=[{uuid:"1",title:"Long Sword",itemTags:["Weapon","Sword"],range:["Same"],flavorText:"A balanced obsidian blade. Said to hold the power to cut Fate itself",extraText:"",actions:[{id:1,triggers:[2],actionEffect:"Harm 1",extraEffects:[]},{id:2,triggers:[3,4,5],actionEffect:"Move 1, Harm 2",extraEffects:[]},{id:3,triggers:[6],actionEffect:"Move 1, Harm 3",extraEffects:[]}]},{uuid:"2",title:"Boarded Shield",itemTags:["Weapon","Shield"],flavorText:"An instrument to ward off death, even if for a moment.",extraText:"",actions:[{id:1,triggers:[3,4],actionEffect:"Block 1",extraEffects:[]},{id:2,triggers:[5,6],actionEffect:"Move 1, Block 1",extraEffects:[]}]},{uuid:"3",title:"Erupting Flame",itemTags:["Weapon","Spell"],flavorText:"The fires that burned Osel Alora to the ground sit warmly in your palm.",extraText:"",actions:[{id:1,triggers:[4],actionEffect:"Deal 2 Harm to all same and adjacent.",extraEffects:[]},{id:2,triggers:[5],actionEffect:"Deal 2 Harm to all in your row or column",extraEffects:[]},{id:3,triggers:[6],actionEffect:"Deal 5 Harm to same or adjacent enemy. Take 2 Harm",extraEffects:[]}]},{uuid:"4",title:"Amulet of Dawn",itemTags:["Gear"],flavorText:"A fire that can warm even those whose fate has been taken from them.",extraText:"",actions:[{id:1,triggers:[],actionEffect:"Criteria: Pair of dice values.",extraEffects:[]},{id:2,triggers:[],actionEffect:"Effect: Heal 2 Harm at the end of this round.",extraEffects:[]}]},{uuid:"5",title:"Fate's Fury",itemTags:["Rune"],flavorText:"Their ruthlessness was passed down to you, a god's fury.",extraText:"",actions:[{id:1,triggers:[],actionEffect:"You may reroll any 1's in a fight. If you do, lose 2 Health.",extraEffects:[]}]},{uuid:"6",title:"Time Warp",itemTags:["Rune"],flavorText:"Time is forever, death comes only once.",extraText:"",actions:[{id:1,triggers:[],actionEffect:"You may reroll any one die in a fight.",extraEffects:[]}]}],Oe=Re("gear",Fe);export{Ne as E,Oe as g};
