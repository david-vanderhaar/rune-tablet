import{S as q,i as H,s as L,Z as oe,a0 as ce,k as g,a as N,l as E,m as C,h as v,c as O,p as fe,b as V,I as m,J as y,a1 as ue,a2 as de,a3 as he,g as I,v as W,d as B,f as J,K as z,q as S,r as A,n as k,a5 as K,C as G,a4 as X,w as _e,a8 as me,y as j,z as re,A as R,B as Y,N as F,a9 as ve,x,e as $,Q as pe,R as be,D as ge}from"./index.4a9c39e8.js";import{h as Ee}from"./html2canvas.esm.f461c225.js";import{a as ee}from"./index.608cba37.js";import{t as te}from"./SvelteToast.svelte_svelte_type_style_lang.8c7b9773.js";function ne(a){let e,n,r,c,f,s,i,t,o,l,d,h,_,p,D,w;return{c(){e=g("div"),n=g("div"),r=g("button"),c=S("Export as PNG"),f=N(),s=g("div"),i=g("button"),t=S("Edit"),o=N(),l=g("button"),d=g("span"),h=g("iconify-icon"),this.h()},l(u){e=E(u,"DIV",{class:!0});var b=C(e);n=E(b,"DIV",{class:!0});var T=C(n);r=E(T,"BUTTON",{class:!0});var U=C(r);c=A(U,"Export as PNG"),U.forEach(v),f=O(T),s=E(T,"DIV",{class:!0});var P=C(s);i=E(P,"BUTTON",{class:!0});var M=C(i);t=A(M,"Edit"),M.forEach(v),o=O(P),l=E(P,"BUTTON",{class:!0});var Q=C(l);d=E(Q,"SPAN",{class:!0});var Z=C(d);h=E(Z,"ICONIFY-ICON",{icon:!0}),C(h).forEach(v),Z.forEach(v),Q.forEach(v),P.forEach(v),T.forEach(v),b.forEach(v),this.h()},h(){k(r,"class","button is-dark"),k(i,"class","button is-light"),K(h,"icon","mi:delete"),k(d,"class","has-text-light"),k(l,"class","button is-danger ml-2"),k(s,"class","is-flex is-flex-direction-row is-flex-wrap-wrap mt-2"),k(n,"class","centered svelte-184ppah"),k(e,"class","overlay svelte-184ppah")},m(u,b){V(u,e,b),m(e,n),m(n,r),m(r,c),m(n,f),m(n,s),m(s,i),m(i,t),m(s,o),m(s,l),m(l,d),m(d,h),p=!0,D||(w=[y(r,"click",a[6]),y(i,"click",function(){G(a[0])&&a[0].apply(this,arguments)}),y(l,"click",function(){G(a[1])&&a[1].apply(this,arguments)})],D=!0)},p(u,b){a=u},i(u){p||(oe(()=>{p&&(_||(_=X(e,ee,{},!0)),_.run(1))}),p=!0)},o(u){_||(_=X(e,ee,{},!1)),_.run(0),p=!1},d(u){u&&v(e),u&&_&&_.end(),D=!1,z(w)}}}function le(a){let e,n,r,c,f,s,i,t,o,l,d,h;return{c(){e=g("div"),n=g("button"),r=S("Export as PNG"),c=N(),f=g("button"),s=S("Edit"),i=N(),t=g("button"),o=g("span"),l=g("iconify-icon"),this.h()},l(_){e=E(_,"DIV",{class:!0});var p=C(e);n=E(p,"BUTTON",{class:!0});var D=C(n);r=A(D,"Export as PNG"),D.forEach(v),c=O(p),f=E(p,"BUTTON",{class:!0});var w=C(f);s=A(w,"Edit"),w.forEach(v),i=O(p),t=E(p,"BUTTON",{class:!0});var u=C(t);o=E(u,"SPAN",{class:!0});var b=C(o);l=E(b,"ICONIFY-ICON",{icon:!0}),C(l).forEach(v),b.forEach(v),u.forEach(v),p.forEach(v),this.h()},h(){k(n,"class","button mr-1 is-dark"),k(f,"class","button mr-1 is-light"),K(l,"icon","mi:delete"),k(o,"class","has-text-light"),k(t,"class","button mr-1 is-danger is-justify-self-flex-end"),k(e,"class","mt-2 mb-4 is-flex is-flex-direction-row is-flex-wrap-wrap")},m(_,p){V(_,e,p),m(e,n),m(n,r),m(e,c),m(e,f),m(f,s),m(e,i),m(e,t),m(t,o),m(o,l),d||(h=[y(n,"click",a[6]),y(f,"click",function(){G(a[0])&&a[0].apply(this,arguments)}),y(t,"click",function(){G(a[1])&&a[1].apply(this,arguments)})],d=!0)},p(_,p){a=_},d(_){_&&v(e),d=!1,z(h)}}}function Ce(a){let e,n,r,c,f,s,i;oe(a[11]);const t=a[10].default,o=ce(t,a,a[9],null);let l=!a[5]&&a[4]&&ne(a),d=a[5]&&le(a);return{c(){e=g("div"),n=g("div"),o&&o.c(),r=N(),l&&l.c(),c=N(),d&&d.c(),this.h()},l(h){e=E(h,"DIV",{style:!0});var _=C(e);n=E(_,"DIV",{});var p=C(n);o&&o.l(p),p.forEach(v),r=O(_),l&&l.l(_),c=O(_),d&&d.l(_),_.forEach(v),this.h()},h(){fe(e,"position","relative")},m(h,_){V(h,e,_),m(e,n),o&&o.m(n,null),a[12](n),m(e,r),l&&l.m(e,null),m(e,c),d&&d.m(e,null),f=!0,s||(i=[y(window,"resize",a[11]),y(e,"pointerenter",a[7]),y(e,"pointerleave",a[8])],s=!0)},p(h,[_]){o&&o.p&&(!f||_&512)&&ue(o,t,h,h[9],f?he(t,h[9],_,null):de(h[9]),null),!h[5]&&h[4]?l?(l.p(h,_),_&48&&I(l,1)):(l=ne(h),l.c(),I(l,1),l.m(e,c)):l&&(W(),B(l,1,1,()=>{l=null}),J()),h[5]?d?d.p(h,_):(d=le(h),d.c(),d.m(e,null)):d&&(d.d(1),d=null)},i(h){f||(I(o,h),I(l),f=!0)},o(h){B(o,h),B(l),f=!1},d(h){h&&v(e),o&&o.d(h),a[12](null),l&&l.d(),d&&d.d(),s=!1,z(i)}}}function ke(a){const e=document.createElement("a");e.href=a,e.download="rune_card.png",e.click()}function De(a,e,n){let r,{$$slots:c={},$$scope:f}=e,{handleEdit:s=()=>null}=e,{handleDelete:i=()=>null}=e,t;function o(){Ee(t).then(b=>{const T=b.toDataURL("image/png");ke(T)})}let l=!1;function d(){n(4,l=!0)}function h(){n(4,l=!1)}function _(b){b.preventDefault(),d()}function p(b){b.preventDefault(),h()}let D;function w(){n(2,D=window.innerWidth)}function u(b){_e[b?"unshift":"push"](()=>{t=b,n(3,t)})}return a.$$set=b=>{"handleEdit"in b&&n(0,s=b.handleEdit),"handleDelete"in b&&n(1,i=b.handleDelete),"$$scope"in b&&n(9,f=b.$$scope)},a.$$.update=()=>{a.$$.dirty&4&&n(5,r=D<768)},[s,i,D,t,l,r,o,_,p,f,c,w,u]}class we extends q{constructor(e){super(),H(this,e,De,Ce,L,{handleEdit:0,handleDelete:1})}}function se(a,e,n){const r=a.slice();return r[12]=e[n],r}function ie(a){let e,n,r,c,f;return{c(){e=g("div"),n=g("div"),r=g("iconify-icon"),this.h()},l(s){e=E(s,"DIV",{class:!0,style:!0});var i=C(e);n=E(i,"DIV",{class:!0});var t=C(n);r=E(t,"ICONIFY-ICON",{icon:!0}),C(r).forEach(v),t.forEach(v),i.forEach(v),this.h()},h(){K(r,"icon","mi:add"),k(n,"class","has-text-light"),k(e,"class","m-2 button is-dark box is-flex is-justify-content-center is-align-items-center is-size-1"),k(e,"style",a[3])},m(s,i){V(s,e,i),m(e,n),m(n,r),c||(f=y(e,"click",a[5]),c=!0)},p(s,i){i&8&&k(e,"style",s[3])},d(s){s&&v(e),c=!1,f()}}}function ye(a){let e,n,r;const c=[a[12]];var f=a[0];function s(i){let t={};for(let o=0;o<c.length;o+=1)t=ge(t,c[o]);return{props:t}}return f&&(e=x(f,s())),{c(){e&&j(e.$$.fragment),n=$()},l(i){e&&re(e.$$.fragment,i),n=$()},m(i,t){e&&R(e,i,t),V(i,n,t),r=!0},p(i,t){const o=t&16?pe(c,[be(i[12])]):{};if(t&1&&f!==(f=i[0])){if(e){W();const l=e;B(l.$$.fragment,1,0,()=>{Y(l,1)}),J()}f?(e=x(f,s()),j(e.$$.fragment),I(e.$$.fragment,1),R(e,n.parentNode,n)):e=null}else f&&e.$set(o)},i(i){r||(e&&I(e.$$.fragment,i),r=!0)},o(i){e&&B(e.$$.fragment,i),r=!1},d(i){i&&v(n),e&&Y(e,i)}}}function ae(a){let e,n,r,c;function f(){return a[10](a[12])}function s(){return a[11](a[12])}return n=new we({props:{handleEdit:f,handleDelete:s,$$slots:{default:[ye]},$$scope:{ctx:a}}}),{c(){e=g("div"),j(n.$$.fragment),r=N(),this.h()},l(i){e=E(i,"DIV",{class:!0});var t=C(e);re(n.$$.fragment,t),r=O(t),t.forEach(v),this.h()},h(){k(e,"class","m-2")},m(i,t){V(i,e,t),R(n,e,null),m(e,r),c=!0},p(i,t){a=i;const o={};t&16&&(o.handleEdit=f),t&16&&(o.handleDelete=s),t&32785&&(o.$$scope={dirty:t,ctx:a}),n.$set(o)},i(i){c||(I(n.$$.fragment,i),c=!0)},o(i){B(n.$$.fragment,i),c=!1},d(i){i&&v(e),Y(n)}}}function Ie(a){let e,n,r,c=a[2]&&ie(a),f=a[4],s=[];for(let t=0;t<f.length;t+=1)s[t]=ae(se(a,f,t));const i=t=>B(s[t],1,1,()=>{s[t]=null});return{c(){e=g("div"),c&&c.c(),n=N();for(let t=0;t<s.length;t+=1)s[t].c();this.h()},l(t){e=E(t,"DIV",{class:!0});var o=C(e);c&&c.l(o),n=O(o);for(let l=0;l<s.length;l+=1)s[l].l(o);o.forEach(v),this.h()},h(){k(e,"class","is-flex is-flex-wrap-wrap")},m(t,o){V(t,e,o),c&&c.m(e,null),m(e,n);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(e,null);r=!0},p(t,[o]){if(t[2]?c?c.p(t,o):(c=ie(t),c.c(),c.m(e,n)):c&&(c.d(1),c=null),o&209){f=t[4];let l;for(l=0;l<f.length;l+=1){const d=se(t,f,l);s[l]?(s[l].p(d,o),I(s[l],1)):(s[l]=ae(d),s[l].c(),I(s[l],1),s[l].m(e,null))}for(W(),l=f.length;l<s.length;l+=1)i(l);J()}},i(t){if(!r){for(let o=0;o<f.length;o+=1)I(s[o]);r=!0}},o(t){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)B(s[o]);r=!1},d(t){t&&v(e),c&&c.d(),me(s,t)}}}function Ne(a,e,n){let r,c=F,f=()=>(c(),c=ve(i,u=>n(4,r=u)),i);a.$$.on_destroy.push(()=>c());let{cardComponent:s}=e,{cardStore:i}=e;f();let{onClickAddCard:t}=e,{onClickEditCard:o}=e,{onClickDeleteCard:l}=e,{style:d="width: 320px; height: 480px; max-width: 100%;"}=e;function h(){t&&t()}function _(u){o&&o(u)}function p(u){l&&l(u)}const D=u=>_(u.uuid),w=u=>p(u.uuid);return a.$$set=u=>{"cardComponent"in u&&n(0,s=u.cardComponent),"cardStore"in u&&f(n(1,i=u.cardStore)),"onClickAddCard"in u&&n(2,t=u.onClickAddCard),"onClickEditCard"in u&&n(8,o=u.onClickEditCard),"onClickDeleteCard"in u&&n(9,l=u.onClickDeleteCard),"style"in u&&n(3,d=u.style)},[s,i,t,d,r,h,_,p,o,l,D,w]}class Ue extends q{constructor(e){super(),H(this,e,Ne,Ie,L,{cardComponent:0,cardStore:1,onClickAddCard:2,onClickEditCard:8,onClickDeleteCard:9,style:3})}}function Oe(a){let e,n,r,c,f,s,i,t,o,l,d,h,_;return{c(){e=g("div"),n=g("div"),r=g("div"),c=S("Are you sure you want to delete this card?"),f=N(),s=g("footer"),i=g("button"),t=S("Delete"),o=N(),l=g("button"),d=S("Cancel"),this.h()},l(p){e=E(p,"DIV",{class:!0});var D=C(e);n=E(D,"DIV",{class:!0});var w=C(n);r=E(w,"DIV",{class:!0});var u=C(r);c=A(u,"Are you sure you want to delete this card?"),u.forEach(v),w.forEach(v),f=O(D),s=E(D,"FOOTER",{class:!0});var b=C(s);i=E(b,"BUTTON",{class:!0});var T=C(i);t=A(T,"Delete"),T.forEach(v),o=O(b),l=E(b,"BUTTON",{class:!0});var U=C(l);d=A(U,"Cancel"),U.forEach(v),b.forEach(v),D.forEach(v),this.h()},h(){k(r,"class","content"),k(n,"class","card-content"),k(i,"class","card-footer-item button is-small is-danger"),k(l,"class","card-footer-item button is-small is-light"),k(s,"class","is-flex"),k(e,"class","card")},m(p,D){V(p,e,D),m(e,n),m(n,r),m(r,c),m(e,f),m(e,s),m(s,i),m(i,t),m(s,o),m(s,l),m(l,d),h||(_=[y(i,"click",a[0]),y(l,"click",a[1])],h=!0)},p:F,i:F,o:F,d(p){p&&v(e),h=!1,z(_)}}}function Te(a,e,n){let{handleDelete:r}=e;function c(){te.pop(),r&&r()}function f(){te.pop()}return a.$$set=s=>{"handleDelete"in s&&n(2,r=s.handleDelete)},[c,f,r]}class Pe extends q{constructor(e){super(),H(this,e,Te,Oe,L,{handleDelete:2})}}export{Ue as C,Pe as D};
