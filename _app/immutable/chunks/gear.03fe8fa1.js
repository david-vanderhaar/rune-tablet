import{S as ve,i as Te,s as pe,k as T,q as x,a as A,l as p,m as k,r as w,h as d,c as D,n as q,p as oe,b as U,D as o,u as I,v as ye,N as ke,O as be,f as xe,g as _e,d as Ee,P as we,e as X,y as Se,z as He,A as Ae,B as De}from"./index.2d80fb02.js";import{A as Pe,e as je,c as qe}from"./PersistentStore.d2247ba2.js";function fe(i,t,e){const a=i.slice();return a[11]=t[e],a}function ce(i,t,e){const a=i.slice();return a[14]=t[e],a}function ue(i){let t,e,a=i[4].join(", ")+"",c;return{c(){t=T("p"),e=x("Range: "),c=x(a)},l(s){t=p(s,"P",{});var n=k(t);e=w(n,"Range: "),c=w(n,a),n.forEach(d)},m(s,n){U(s,t,n),o(t,e),o(t,c)},p(s,n){n&16&&a!==(a=s[4].join(", ")+"")&&I(c,a)},d(s){s&&d(t)}}}function he(i,t){let e,a,c;return a=new Pe({props:{action:t[14]}}),{key:i,first:null,c(){e=X(),Se(a.$$.fragment),this.h()},l(s){e=X(),He(a.$$.fragment,s),this.h()},h(){this.first=e},m(s,n){U(s,e,n),Ae(a,s,n),c=!0},p(s,n){t=s;const _={};n&128&&(_.action=t[14]),a.$set(_)},i(s){c||(_e(a.$$.fragment,s),c=!0)},o(s){Ee(a.$$.fragment,s),c=!1},d(s){s&&d(e),De(a,s)}}}function de(i){let t,e,a=i[11]+"",c,s,n=i[9][i[11]]+"",_;return{c(){t=T("p"),e=T("em"),c=x(a),s=x(": "),_=x(n)},l(h){t=p(h,"P",{});var m=k(t);e=p(m,"EM",{});var b=k(e);c=w(b,a),b.forEach(d),s=w(m,": "),_=w(m,n),m.forEach(d)},m(h,m){U(h,t,m),o(t,e),o(e,c),o(t,s),o(t,_)},p(h,m){m&256&&a!==(a=h[11]+"")&&I(c,a),m&256&&n!==(n=h[9][h[11]]+"")&&I(_,n)},d(h){h&&d(t)}}}function me(i){let t,e=i[9][i[11]]&&de(i);return{c(){e&&e.c(),t=X()},l(a){e&&e.l(a),t=X()},m(a,c){e&&e.m(a,c),U(a,t,c)},p(a,c){a[9][a[11]]?e?e.p(a,c):(e=de(a),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(a){e&&e.d(a),a&&d(t)}}}function Ie(i){let t,e,a,c,s,n,_,h=ge(i[1],i[2])+"",m,b,R,P=(i[3]&&i[3].join(", "))+"",M,u,z,G,Z,S,v=[],ae=new Map,Y,y,$,ee,L,V,J,te,B,K,H,E=i[4]&&i[4]&&i[4].length>0&&ue(i),N=i[7];const le=l=>l[14];for(let l=0;l<N.length;l+=1){let f=ce(i,N,l),r=le(f);ae.set(r,v[l]=he(r,f))}let C=i[8],g=[];for(let l=0;l<C.length;l+=1)g[l]=me(fe(i,C,l));return{c(){t=T("div"),e=T("div"),a=T("p"),c=x(i[0]),s=A(),n=T("div"),_=T("p"),m=x(h),b=A(),R=T("p"),M=x(P),u=A(),E&&E.c(),z=A(),G=T("hr"),Z=A(),S=T("div");for(let l=0;l<v.length;l+=1)v[l].c();Y=A(),y=T("div"),$=T("hr"),ee=A();for(let l=0;l<g.length;l+=1)g[l].c();L=A(),V=T("p"),J=x(i[6]),te=A(),B=T("p"),K=x(i[5]),this.h()},l(l){t=p(l,"DIV",{class:!0});var f=k(t);e=p(f,"DIV",{class:!0,style:!0});var r=k(e);a=p(r,"P",{class:!0});var O=k(a);c=w(O,i[0]),O.forEach(d),s=D(r),n=p(r,"DIV",{class:!0});var W=k(n);_=p(W,"P",{});var ie=k(_);m=w(ie,h),ie.forEach(d),b=D(W),R=p(W,"P",{});var re=k(R);M=w(re,P),re.forEach(d),u=D(W),E&&E.l(W),W.forEach(d),z=D(r),G=p(r,"HR",{}),Z=D(r),S=p(r,"DIV",{class:!0});var Q=k(S);for(let F=0;F<v.length;F+=1)v[F].l(Q);Y=D(Q),y=p(Q,"DIV",{class:!0,style:!0});var j=k(y);$=p(j,"HR",{}),ee=D(j);for(let F=0;F<g.length;F+=1)g[F].l(j);L=D(j),V=p(j,"P",{class:!0});var ne=k(V);J=w(ne,i[6]),ne.forEach(d),te=D(j),B=p(j,"P",{class:!0});var se=k(B);K=w(se,i[5]),se.forEach(d),j.forEach(d),Q.forEach(d),r.forEach(d),f.forEach(d),this.h()},h(){q(a,"class","title"),q(n,"class","is-size-6 subtitle"),q(V,"class","has-text-centered"),q(B,"class","has-text-grey is-italic has-text-centered"),q(y,"class","bottom-content svelte-gmcenr"),oe(y,"background-color","white"),q(S,"class","content"),q(e,"class","card-content has-text-centered pb-0 svelte-gmcenr"),oe(e,"background-color","white"),q(t,"class","card equipment-card svelte-gmcenr")},m(l,f){U(l,t,f),o(t,e),o(e,a),o(a,c),o(e,s),o(e,n),o(n,_),o(_,m),o(n,b),o(n,R),o(R,M),o(n,u),E&&E.m(n,null),o(e,z),o(e,G),o(e,Z),o(e,S);for(let r=0;r<v.length;r+=1)v[r]&&v[r].m(S,null);o(S,Y),o(S,y),o(y,$),o(y,ee);for(let r=0;r<g.length;r+=1)g[r]&&g[r].m(y,null);o(y,L),o(y,V),o(V,J),o(y,te),o(y,B),o(B,K),H=!0},p(l,[f]){if((!H||f&1)&&I(c,l[0]),(!H||f&6)&&h!==(h=ge(l[1],l[2])+"")&&I(m,h),(!H||f&8)&&P!==(P=(l[3]&&l[3].join(", "))+"")&&I(M,P),l[4]&&l[4]&&l[4].length>0?E?E.p(l,f):(E=ue(l),E.c(),E.m(n,null)):E&&(E.d(1),E=null),f&128&&(N=l[7],ye(),v=ke(v,f,le,1,l,N,ae,S,be,he,Y,ce),xe()),f&768){C=l[8];let r;for(r=0;r<C.length;r+=1){const O=fe(l,C,r);g[r]?g[r].p(O,f):(g[r]=me(O),g[r].c(),g[r].m(y,L))}for(;r<g.length;r+=1)g[r].d(1);g.length=C.length}(!H||f&64)&&I(J,l[6]),(!H||f&32)&&I(K,l[5])},i(l){if(!H){for(let f=0;f<N.length;f+=1)_e(v[f]);H=!0}},o(l){for(let f=0;f<v.length;f+=1)Ee(v[f]);H=!1},d(l){l&&d(t),E&&E.d();for(let f=0;f<v.length;f+=1)v[f].d();we(g,l)}}}function ge(i,t){const e=[];return i&&i.length>0&&e.push(`Health: ${i}`),t&&t.length>0&&e.push(`Stamina: ${t}`),e.join(", ")}function Re(i,t,e){let{title:a=""}=t,{health:c=""}=t,{stamina:s=""}=t,{itemTags:n=[]}=t,{range:_=[]}=t,{flavorText:h=""}=t,{extraText:m=""}=t,{actions:b=[]}=t;const R=je.getExtraEffects();let P=[];function M(){let u=b.reduce((z,G)=>[...z,...G.extraEffects],[]);e(8,P=[...new Set(u)])}return i.$$set=u=>{"title"in u&&e(0,a=u.title),"health"in u&&e(1,c=u.health),"stamina"in u&&e(2,s=u.stamina),"itemTags"in u&&e(3,n=u.itemTags),"range"in u&&e(4,_=u.range),"flavorText"in u&&e(5,h=u.flavorText),"extraText"in u&&e(6,m=u.extraText),"actions"in u&&e(7,b=u.actions)},i.$$.update=()=>{i.$$.dirty&128&&M()},[a,c,s,n,_,h,m,b,P,R]}class Be extends ve{constructor(t){super(),Te(this,t,Re,Ie,pe,{title:0,health:1,stamina:2,itemTags:3,range:4,flavorText:5,extraText:6,actions:7})}}const Fe=[{uuid:"1",title:"Long Sword",itemTags:["Weapon","Sword"],range:["Same"],flavorText:"A balanced obsidian blade. Said to hold the power to cut Fate itself",extraText:"",actions:[{id:1,triggers:[2],actionEffect:"Harm 1",extraEffects:[]},{id:2,triggers:[3,4,5],actionEffect:"Move 1, Harm 2",extraEffects:[]},{id:3,triggers:[6],actionEffect:"Move 1, Harm 3",extraEffects:[]}]},{uuid:"2",title:"Boarded Shield",itemTags:["Weapon","Shield"],flavorText:"An instrument to ward off death, even if for a moment.",extraText:"",actions:[{id:1,triggers:[3,4],actionEffect:"Block 1",extraEffects:[]},{id:2,triggers:[5,6],actionEffect:"Move 1, Block 1",extraEffects:[]}]},{uuid:"3",title:"Erupting Flame",itemTags:["Weapon","Spell"],flavorText:"The fires that burned Osel Alora to the ground sit warmly in your palm.",extraText:"",actions:[{id:1,triggers:[4],actionEffect:"Deal 2 Harm to all same and adjacent.",extraEffects:[]},{id:2,triggers:[5],actionEffect:"Deal 2 Harm to all in your row or column",extraEffects:[]},{id:3,triggers:[6],actionEffect:"Deal 5 Harm to same or adjacent enemy. Take 2 Harm",extraEffects:[]}]},{uuid:"4",title:"Amulet of Dawn",itemTags:["Gear"],flavorText:"A fire that can warm even those whose fate has been taken from them.",extraText:"",actions:[{id:1,triggers:[],actionEffect:"Criteria: Pair of dice values.",extraEffects:[]},{id:2,triggers:[],actionEffect:"Effect: Heal 2 Harm at the end of this round.",extraEffects:[]}]},{uuid:"5",title:"Fate's Fury",itemTags:["Rune"],flavorText:"Their ruthlessness was passed down to you, a god's fury.",extraText:"",actions:[{id:1,triggers:[],actionEffect:"You may reroll any 1's in a fight. If you do, lose 2 Health.",extraEffects:[]}]},{uuid:"6",title:"Time Warp",itemTags:["Rune"],flavorText:"Time is forever, death comes only once.",extraText:"",actions:[{id:1,triggers:[],actionEffect:"You may reroll any one die in a fight.",extraEffects:[]}]}],Ce=qe("gear",Fe);export{Be as E,Ce as g};
